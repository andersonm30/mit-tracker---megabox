(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73cfdca0"],{"2b40":function(e,t,o){},"8ba7":function(e,t,o){"use strict";o("9abe")},"9abe":function(e,t,o){},d46f:function(e,t,o){"use strict";o.r(t);o("14d9");var r=o("7a23"),a=(o("797a"),o("5959"),o("bc43"),o("7aa1"),o("c49e"),o("cc66"),o("10c7"),o("314f"),o("efc7"),o("5c12")),l=o("cf2e"),c=o("5502"),n=o("4d0b"),i=o("21a6");const d=e=>(Object(r["pushScopeId"])("data-v-d226cda8"),e=e(),Object(r["popScopeId"])(),e),p={style:{display:"flex","justify-content":"flex-end"}},s={style:{"margin-right":"10px","margin-top":"10px"}},b={style:{"margin-top":"20px"}},m={key:0,class:"reportBlock",style:{padding:"10px"}},x={key:1,class:"reportBlock",style:{padding:"10px"}},g=["set","onClick"],O={style:{color:"var(--el-text-color-primary)","font-weight":"bold","font-size":"16px",padding:"10px"}},j={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between","min-height":"53px"}},v={style:{"text-align":"right",padding:"10px","font-size":"11px",color:"#5b5b5b",position:"relative",width:"70px"}},u=d(()=>Object(r["createElementVNode"])("div",{style:{position:"absolute",width:"20px",height:"20px","font-size":"16px","text-align":"center",right:"-10px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},[Object(r["createElementVNode"])("i",{class:"fas fa-flag"})],-1)),f={style:{position:"absolute",right:"15px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},y=d(()=>Object(r["createElementVNode"])("br",null,null,-1)),V={style:{padding:"10px","font-size":"14px",flex:"1"}},N={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between"}},h={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},E=d(()=>Object(r["createElementVNode"])("div",{style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},"Início do Hodometro",-1)),k={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},S={style:{flex:"1","text-align":"center"}},w=d(()=>Object(r["createElementVNode"])("div",{style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},"Fim do Hodometro",-1)),D={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},z={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between"}},B={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},I=d(()=>Object(r["createElementVNode"])("div",{style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},"Velocidade Média",-1)),C={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},R={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},T=d(()=>Object(r["createElementVNode"])("div",{style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},"Velocidade Máxima",-1)),A={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},M={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between"}},F={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},_=d(()=>Object(r["createElementVNode"])("div",{style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},"Tempo Total",-1)),L={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},H={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},J=d(()=>Object(r["createElementVNode"])("div",{style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},"Distância",-1)),Y={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},G={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},P=d(()=>Object(r["createElementVNode"])("div",{style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},"Consumo de Combustível",-1)),U={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}};var $={__name:"reportStops",setup(e){const t=Object(r["ref"])(0),o=Object(c["b"])(),d=Object(r["inject"])("updateRoute"),$=Object(r["inject"])("showRouteMarkers"),q=Object(r["ref"])({date:[0,0],deviceId:[],showMarkers:!0,groupId:[]}),K=Object(r["ref"])([]),Q=window.$traccar,W=e=>{q.value=e},X=(e=!1)=>{t.value=1,Q.getReportStops(q.value.deviceId,q.value.groupId,new Date(q.value.date[0]).toISOString(),new Date(q.value.date[1]).toISOString(),e).then(o=>{if(e)t.value=0,"application/pdf"===o["headers"]["content-type"]?Object(i["saveAs"])(new Blob([o.data],{type:"application/pdf"}),"resume.pdf"):Object(i["saveAs"])(new Blob([o.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),"resume.xlsx");else{t.value=2,K.value=o.data;let e=[];o.data.forEach(t=>{e.push([t.latitude,t.longitude,t.id,t.course])}),d(e,!1)}})};return(e,c)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(Object(r["unref"])(n["a"]),{onChange:c[0]||(c[0]=e=>W(e))}),Object(r["createElementVNode"])("div",p,[Object(r["createElementVNode"])("div",s,[Object(r["createVNode"])(Object(r["unref"])(a["a"]),{modelValue:Object(r["unref"])($),"onUpdate:modelValue":c[1]||(c[1]=e=>Object(r["isRef"])($)?$.value=e:null),"active-text":"Mostrar Marcadores"},null,8,["modelValue"])]),Object(r["createVNode"])(Object(r["unref"])(l["a"]),{onClick:c[2]||(c[2]=e=>X(!0))},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])("Exportar")]),_:1}),Object(r["createVNode"])(Object(r["unref"])(l["a"]),{type:"primary",onClick:c[3]||(c[3]=e=>X())},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])("Mostrar")]),_:1})]),Object(r["createElementVNode"])("div",b,[1===t.value?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",m,"CARREGANDO DADOS...")):Object(r["createCommentVNode"])("",!0),2===t.value&&0===K.value.length?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",x,"--NÃO HÁ DADOS PARA MOSTRAR--")):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(K.value,(t,a)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"reportBlock",key:a,set:e.device=Object(r["unref"])(o).getters["devices/getDevice"](t.deviceId),onClick:o=>e.loadRoute(t)},[Object(r["createElementVNode"])("div",O,Object(r["toDisplayString"])(e.device.name),1),Object(r["createElementVNode"])("div",j,[Object(r["createElementVNode"])("div",v,[u,Object(r["createElementVNode"])("div",f,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(new Date(t.startTime).toLocaleDateString()),1),y,Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(new Date(t.startTime).toLocaleTimeString()),1)])]),Object(r["createElementVNode"])("div",V,Object(r["toDisplayString"])(t.address),1)]),Object(r["createElementVNode"])("div",N,[Object(r["createElementVNode"])("div",h,[E,Object(r["createElementVNode"])("div",k,Object(r["toDisplayString"])(parseInt(t.startOdometer))+" km",1)]),Object(r["createElementVNode"])("div",S,[w,Object(r["createElementVNode"])("div",D,Object(r["toDisplayString"])(parseInt(t.endOdometer))+" km",1)])]),Object(r["createElementVNode"])("div",z,[Object(r["createElementVNode"])("div",B,[I,Object(r["createElementVNode"])("div",C,Object(r["toDisplayString"])(parseInt(t.averageSpeed))+" km/h",1)]),Object(r["createElementVNode"])("div",R,[T,Object(r["createElementVNode"])("div",A,Object(r["toDisplayString"])(parseInt(t.maxSpeed))+" km/h",1)])]),Object(r["createElementVNode"])("div",M,[Object(r["createElementVNode"])("div",F,[_,Object(r["createElementVNode"])("div",L,Object(r["toDisplayString"])(t.duration),1)]),Object(r["createElementVNode"])("div",H,[J,Object(r["createElementVNode"])("div",Y,Object(r["toDisplayString"])(parseFloat(t.distance).toFixed(2))+" km",1)]),Object(r["createElementVNode"])("div",G,[P,Object(r["createElementVNode"])("div",U,Object(r["toDisplayString"])(t.spentFuel)+" L",1)])])],8,g))),128))])],64))}},q=(o("8ba7"),o("6b0d")),K=o.n(q);const Q=K()($,[["__scopeId","data-v-d226cda8"]]);t["default"]=Q},efc7:function(e,t,o){"use strict";o("771d"),o("2b40")}}]);