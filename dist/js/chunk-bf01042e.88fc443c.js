(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf01042e"],{"1a41":function(e,t,a){},"2b40":function(e,t,a){},"5dee":function(e,t,a){"use strict";a.r(t);a("14d9");var c=a("7a23"),l=(a("c4aa"),a("797a"),a("efc7"),a("751f"),a("db9d")),n=a("c349"),r=a("5c12"),i=a("1dc4");const o={style:{"border-bottom":"#e0e0e0 1px solid",padding:"20px"}},d={class:"modal-title",style:{display:"flex",width:"calc(100% - 50px)"}},s=Object(c["createElementVNode"])("div",{class:"itm",style:{display:"flex",background:"#eeeeee"}},[Object(c["createElementVNode"])("div",{style:{width:"50px",padding:"10px","font-size":"12px"}}),Object(c["createElementVNode"])("div",{style:{width:"30px","text-align":"center",padding:"10px","font-size":"12px"}},"Id"),Object(c["createElementVNode"])("div",{style:{flex:"1",padding:"10px","font-size":"12px","text-align":"center"}},"Nome")],-1),u={style:{height:"calc(100vh - 300px)",overflow:"hidden","overflow-y":"scroll"}},p={style:{width:"50px",padding:"10px","font-size":"14px"}},v={style:{width:"30px","text-align":"center",padding:"10px","font-size":"14px"}},b={style:{flex:"1",padding:"10px","font-size":"14px","text-align":"center"}},f={style:{flex:"1",padding:"10px","font-size":"14px","text-align":"center"}},O={style:{flex:"1",padding:"10px","font-size":"14px","text-align":"center"}},j={key:1,style:{flex:"1",padding:"10px","font-size":"14px","text-align":"center"}},m={key:2,style:{flex:"1",padding:"10px","font-size":"14px","text-align":"center"}};var g={__name:"link-objects",setup(e,{expose:t}){const a=Object(c["ref"])(""),g=Object(c["ref"])(!1),w=Object(c["ref"])("search"),h=Object(c["ref"])(null),x=Object(c["ref"])({}),y=Object(c["ref"])(null),k=Object(c["ref"])([]),E=Object(c["ref"])([]),V=e=>!!E.value.find(t=>t.id===e),$=(e,t)=>{let a=JSON.parse(JSON.stringify(x.value));a[y.value]=e.id,t?(E.value.push(e),window.$traccar.linkObjects(a)):(E.value.splice(E.value.findIndex(t=>t.id===e.id),1),window.$traccar.unlinkObjects(a))},N=Object(c["computed"])(()=>a.value.length<3?k.value:k.value.filter(e=>{for(let t of Object.keys(e))if(String(e[t]).toLowerCase().match(a.value.toLowerCase()))return!0;for(let t of Object.keys(e.attributes))if(String(e.attributes[t]).toLowerCase().match(a.value.toLowerCase()))return!0;return!1})),B=e=>{x.value={},h.value=e.type,x.value[Object.keys(e)[0]]=e[Object.keys(e)[0]],"geofences"===e.type?(y.value="geofenceId",w.value="geofence.search",window.$traccar.getGeofences({all:!0}).then(({data:e})=>{k.value=e}),window.$traccar.getGeofences(x.value).then(({data:e})=>{E.value=e})):"devices"===e.type?(y.value="deviceId",w.value="device.search",window.$traccar.getDevices({all:!0}).then(({data:e})=>{let t=[];e.forEach(e=>{3==e.uniqueId.split("-").length&&"deleted"===e.uniqueId.split("-")[0]||t.push(e)}),k.value=t}),window.$traccar.getDevices(x.value).then(({data:e})=>{E.value=e})):"commands"===e.type?(y.value="commandId",w.value="command.search",window.$traccar.getSavedCommands({all:!0}).then(({data:e})=>{k.value=e}),window.$traccar.getSavedCommands(x.value).then(({data:e})=>{E.value=e})):"maintence"===e.type?(y.value="maintenanceId",w.value="maintenance.search",window.$traccar.getMaintenance({all:!0}).then(({data:e})=>{k.value=e}),window.$traccar.getMaintenance(x.value).then(({data:e})=>{E.value=e})):"attributes"===e.type?(y.value="attributeId",w.value="attribute.search",window.$traccar.getComputedAttributes({all:!0}).then(({data:e})=>{k.value=e}),window.$traccar.getComputedAttributes(x.value).then(({data:e})=>{E.value=e})):"calendars"===e.type?(y.value="calendarId",w.value="calendar.search",window.$traccar.getCalendars({all:!0}).then(({data:e})=>{k.value=e}),window.$traccar.getCalendars(x.value).then(({data:e})=>{E.value=e})):"notifications"===e.type?(y.value="notificationId",w.value="notification.search",window.$traccar.getNotifications({all:!0}).then(({data:e})=>{k.value=e}),window.$traccar.getNotifications(x.value).then(({data:e})=>{E.value=e})):"users"===e.type?(y.value="managedUserId",w.value="user.search",window.$traccar.getUsers({all:!0}).then(({data:e})=>{k.value=e}),window.$traccar.getUsers(x.value).then(({data:e})=>{E.value=e})):"groups"===e.type?(y.value="groupId",w.value="group.search",window.$traccar.getGroups({all:!0}).then(({data:e})=>{k.value=e}),window.$traccar.getGroups(x.value).then(({data:e})=>{E.value=e})):"drivers"===e.type&&(y.value="driverId",w.value="driver.search",window.$traccar.getDrivers({all:!0}).then(({data:e})=>{k.value=e}),window.$traccar.getDrivers(x.value).then(({data:e})=>{E.value=e})),g.value=!0};return Object(c["provide"])("showObjects",B),t({showObjects:B}),(e,t)=>(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["unref"])(l["a"]),{"lock-scroll":!0,top:"50px",modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=e=>g.value=e),title:"Teste"},{title:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",d,[Object(c["createVNode"])(Object(c["unref"])(n["a"]),{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),placeholder:Object(c["unref"])(i["a"])(w.value),style:{"--el-input-border-radius":"5px","margin-right":"5px"}},null,8,["modelValue","placeholder"])])])]),footer:Object(c["withCtx"])(()=>[]),default:Object(c["withCtx"])(()=>[s,Object(c["createElementVNode"])("div",u,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(Object(c["unref"])(N),(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:Object(c["normalizeClass"])(["itm",{tr1:t%2,tr2:!(t%2)}]),key:t,style:{display:"flex"}},[Object(c["createElementVNode"])("div",p,[Object(c["createVNode"])(Object(c["unref"])(r["a"]),{"model-value":V(e.id),onChange:t=>$(e,t),size:"large"},null,8,["model-value","onChange"])]),Object(c["createElementVNode"])("div",v,Object(c["toDisplayString"])(e.id),1),"notifications"!==h.value||e.attributes&&e.attributes["description"]?"devices"===h.value?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",j,Object(c["toDisplayString"])(e.name||e.description||e.id||e.attributes&&e.attributes["description"])+" | "+Object(c["toDisplayString"])(e.attributes?e.attributes["placa"]:""),1)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",m,Object(c["toDisplayString"])(e.name||e.description||e.attributes["description"]),1)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createElementVNode"])("div",b,Object(c["toDisplayString"])(Object(c["unref"])(i["a"])("notification.types."+e.type)),1),Object(c["createElementVNode"])("div",f,[e.notificators.split(",").length?(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],{key:0},Object(c["renderList"])(e.notificators.split(","),(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",{class:"tblItem",key:t},Object(c["toDisplayString"])(Object(c["unref"])(i["a"])("notification.channels."+e,e)),1))),128)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",O,[e.attributes&&e.attributes["alarms"]?(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],{key:0},Object(c["renderList"])(e.attributes["alarms"].split(","),(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",{class:"tblItem",key:t},Object(c["toDisplayString"])(Object(c["unref"])(i["a"])("alarms."+e,e)),1))),128)):Object(c["createCommentVNode"])("",!0)])],64))],2))),128))])]),_:1},8,["modelValue"]))}};a("9a1e");const w=g;t["default"]=w},"751f":function(e,t,a){"use strict";a("771d"),a("1a41"),a("f9f5")},"9a1e":function(e,t,a){"use strict";a("d0ac")},d0ac:function(e,t,a){},efc7:function(e,t,a){"use strict";a("771d"),a("2b40")}}]);