(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57c12c92"],{"2b40":function(e,t,c){},"5c12":function(e,t,c){"use strict";c.d(t,"a",(function(){return w}));var a=c("a3ae"),o=c("7a23"),n=c("7d20"),i=c("443c"),l=c("8afb"),r=c("54bb"),d=c("7bc7"),s=c("a3d3"),b=c("f04b"),u=c("546d"),j=c("c23a");const O="ElSwitch";var p=Object(o["defineComponent"])({name:O,components:{ElIcon:r["a"],Loading:d["Loading"]},props:b["b"],emits:b["a"],setup(e,{emit:t}){const{formItem:c}=Object(u["a"])(),a=Object(j["a"])(Object(o["computed"])(()=>e.loading)),r=Object(o["ref"])(!1!==e.modelValue),d=Object(o["ref"])(),b=Object(o["ref"])();Object(o["watch"])(()=>e.modelValue,()=>{r.value=!0}),Object(o["watch"])(()=>e.value,()=>{r.value=!1});const p=Object(o["computed"])(()=>r.value?e.modelValue:e.value),v=Object(o["computed"])(()=>p.value===e.activeValue);[e.activeValue,e.inactiveValue].includes(p.value)||(t(s["c"],e.inactiveValue),t(s["a"],e.inactiveValue),t(s["b"],e.inactiveValue)),Object(o["watch"])(v,()=>{var t;d.value.checked=v.value,(e.activeColor||e.inactiveColor)&&f(),e.validateEvent&&(null==(t=null==c?void 0:c.validate)||t.call(c,"change"))});const m=()=>{const c=v.value?e.inactiveValue:e.activeValue;t(s["c"],c),t(s["a"],c),t(s["b"],c),Object(o["nextTick"])(()=>{d.value.checked=v.value})},h=()=>{if(a.value)return;const{beforeChange:t}=e;if(!t)return void m();const c=t(),o=[Object(n["isPromise"])(c),Object(i["g"])(c)].some(e=>e);o||Object(l["b"])(O,"beforeChange must return type `Promise<boolean>` or `boolean`"),Object(n["isPromise"])(c)?c.then(e=>{e&&m()}).catch(e=>{Object(l["a"])(O,"some error occurred: "+e)}):c&&m()},f=()=>{const t=v.value?e.activeColor:e.inactiveColor,c=b.value;e.borderColor?c.style.borderColor=e.borderColor:e.borderColor||(c.style.borderColor=t),c.style.backgroundColor=t,c.children[0].style.color=t},k=()=>{var e,t;null==(t=null==(e=d.value)?void 0:e.focus)||t.call(e)};return Object(o["onMounted"])(()=>{(e.activeColor||e.inactiveColor||e.borderColor)&&f(),d.value.checked=v.value}),{input:d,core:b,switchDisabled:a,checked:v,handleChange:m,switchValue:h,focus:k}}});const v=["aria-checked","aria-disabled"],m=["id","name","true-value","false-value","disabled"],h=["aria-hidden"],f={key:0,class:"el-switch__inner"},k=["aria-hidden"],g=["aria-hidden"],y={class:"el-switch__action"},B=["aria-hidden"];function C(e,t,c,a,n,i){const l=Object(o["resolveComponent"])("el-icon"),r=Object(o["resolveComponent"])("loading");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(["el-switch",{"is-disabled":e.switchDisabled,"is-checked":e.checked}]),role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled,onClick:t[2]||(t[2]=Object(o["withModifiers"])((...t)=>e.switchValue&&e.switchValue(...t),["prevent"]))},[Object(o["createElementVNode"])("input",{id:e.id,ref:"input",class:"el-switch__input",type:"checkbox",name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled,onChange:t[0]||(t[0]=(...t)=>e.handleChange&&e.handleChange(...t)),onKeydown:t[1]||(t[1]=Object(o["withKeys"])((...t)=>e.switchValue&&e.switchValue(...t),["enter"]))},null,40,m),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?Object(o["createCommentVNode"])("v-if",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,class:Object(o["normalizeClass"])(["el-switch__label","el-switch__label--left",e.checked?"":"is-active"])},[e.inactiveIcon?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(e.inactiveIcon)))]),_:1})):Object(o["createCommentVNode"])("v-if",!0),!e.inactiveIcon&&e.inactiveText?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,"aria-hidden":e.checked},Object(o["toDisplayString"])(e.inactiveText),9,h)):Object(o["createCommentVNode"])("v-if",!0)],2)),Object(o["createElementVNode"])("span",{ref:"core",class:"el-switch__core",style:Object(o["normalizeStyle"])({width:(e.width||40)+"px"})},[e.inlinePrompt?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",f,[e.activeIcon||e.inactiveIcon?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[e.activeIcon?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,class:Object(o["normalizeClass"])(["is-icon",e.checked?"is-show":"is-hide"])},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(e.activeIcon)))]),_:1},8,["class"])):Object(o["createCommentVNode"])("v-if",!0),e.inactiveIcon?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:1,class:Object(o["normalizeClass"])(["is-icon",e.checked?"is-hide":"is-show"])},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(e.inactiveIcon)))]),_:1},8,["class"])):Object(o["createCommentVNode"])("v-if",!0)],64)):e.activeText||e.inactiveIcon?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[e.activeText?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,class:Object(o["normalizeClass"])(["is-text",e.checked?"is-show":"is-hide"]),"aria-hidden":!e.checked},Object(o["toDisplayString"])(e.activeText.substr(0,1)),11,k)):Object(o["createCommentVNode"])("v-if",!0),e.inactiveText?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,class:Object(o["normalizeClass"])(["is-text",e.checked?"is-hide":"is-show"]),"aria-hidden":e.checked},Object(o["toDisplayString"])(e.inactiveText.substr(0,1)),11,g)):Object(o["createCommentVNode"])("v-if",!0)],64)):Object(o["createCommentVNode"])("v-if",!0)])):Object(o["createCommentVNode"])("v-if",!0),Object(o["createElementVNode"])("div",y,[e.loading?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,class:"is-loading"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(r)]),_:1})):Object(o["createCommentVNode"])("v-if",!0)])],4),e.inlinePrompt||!e.activeIcon&&!e.activeText?Object(o["createCommentVNode"])("v-if",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,class:Object(o["normalizeClass"])(["el-switch__label","el-switch__label--right",e.checked?"is-active":""])},[e.activeIcon?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(e.activeIcon)))]),_:1})):Object(o["createCommentVNode"])("v-if",!0),!e.activeIcon&&e.activeText?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,"aria-hidden":!e.checked},Object(o["toDisplayString"])(e.activeText),9,B)):Object(o["createCommentVNode"])("v-if",!0)],2))],10,v)}p.render=C,p.__file="packages/components/switch/src/switch.vue";const w=Object(a["a"])(p)},9942:function(e,t,c){"use strict";c("e8b1")},bf6f:function(e,t,c){"use strict";c.r(t);c("14d9");var a=c("7a23"),o=(c("797a"),c("5959"),c("bc43"),c("7aa1"),c("c49e"),c("cc66"),c("10c7"),c("314f"),c("efc7"),c("5c12")),n=c("cf2e"),i=c("5502"),l=c("4d0b"),r=c("21a6");const d=e=>(Object(a["pushScopeId"])("data-v-04ad4b0a"),e=e(),Object(a["popScopeId"])(),e),s={style:{display:"flex","justify-content":"flex-end"}},b={style:{"margin-right":"10px","margin-top":"10px"}},u={style:{"margin-top":"20px"}},j={key:0,class:"reportBlock",style:{padding:"10px"}},O={key:1,class:"reportBlock",style:{padding:"10px"}},p=["onClick","set"],v={style:{color:"var(--el-text-color-primary)","font-weight":"bold","font-size":"16px",padding:"10px"}},m={style:{"text-align":"right",padding:"10px","font-size":"11px",color:"#5b5b5b",position:"relative",width:"70px"}},h=d(()=>Object(a["createElementVNode"])("div",{style:{position:"absolute",width:"20px",height:"20px","font-size":"16px","text-align":"center",right:"-10px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},[Object(a["createElementVNode"])("i",{class:"fas fa-exclamation-triangle"})],-1)),f={style:{position:"absolute",right:"15px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},k=d(()=>Object(a["createElementVNode"])("br",null,null,-1)),g={style:{padding:"10px","font-size":"14px",flex:"1"}};var y={__name:"reportEvents",setup(e){const t=Object(a["ref"])(0),c=Object(i["b"])(),d=Object(a["inject"])("updateRoute"),y=Object(a["inject"])("showRouteMarkers"),B=Object(a["ref"])({date:[0,0],deviceId:[],showMarkers:!0,groupId:[]}),C=Object(a["ref"])([]),w=Object(a["computed"])(()=>{let e={};return C.value.forEach(t=>{e[t.deviceId]||(e[t.deviceId]=[]),e[t.deviceId].push(t)}),e}),V=window.$traccar,x=e=>{B.value=e},N=e=>{V.loadRoute(e.deviceId,e.startTime,e.endTime).then(({data:e})=>{let c=[];e.forEach(e=>{c.push([e.latitude,e.longitude,e.id,e.course])}),d(c),t.value=!1})};Object(a["onBeforeUnmount"])(()=>{});const E=(e=!1)=>{t.value=1,V.getReportEvents(B.value.deviceId,B.value.groupId,new Date(B.value.date[0]).toISOString(),new Date(B.value.date[1]).toISOString(),e).then(c=>{if(e)t.value=0,"application/pdf"===c["headers"]["content-type"]?Object(r["saveAs"])(new Blob([c.data],{type:"application/pdf"}),"resume.pdf"):Object(r["saveAs"])(new Blob([c.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),"resume.xlsx");else{t.value=2,C.value=c.data;let e=[];c.data.forEach(t=>{t.positionId&&!e.includes(t.positionId)&&e.push(t.positionId)}),V.getPositions(e).then(t=>{e=[],t.forEach(t=>{e.push([t.latitude,t.longitude,t.id,t.course])}),d(e,!1)})}})};return(e,i)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(Object(a["unref"])(l["a"]),{onChange:i[0]||(i[0]=e=>x(e))}),Object(a["createElementVNode"])("div",s,[Object(a["createElementVNode"])("div",b,[Object(a["createVNode"])(Object(a["unref"])(o["a"]),{modelValue:Object(a["unref"])(y),"onUpdate:modelValue":i[1]||(i[1]=e=>Object(a["isRef"])(y)?y.value=e:null),"active-text":"Mostrar Marcadores"},null,8,["modelValue"])]),Object(a["createVNode"])(Object(a["unref"])(n["a"]),{onClick:i[2]||(i[2]=e=>E(!0))},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("Exportar")]),_:1}),Object(a["createVNode"])(Object(a["unref"])(n["a"]),{type:"primary",onClick:i[3]||(i[3]=e=>E())},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("Mostrar")]),_:1})]),Object(a["createElementVNode"])("div",u,[1===t.value?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",j,"CARREGANDO DADOS...")):Object(a["createCommentVNode"])("",!0),2===t.value&&0===C.value.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",O,"--NÃO HÁ DADOS PARA MOSTRAR--")):Object(a["createCommentVNode"])("",!0),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(Object(a["unref"])(w),(t,o)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"reportBlock",key:o,onClick:e=>N(t),set:e.device=Object(a["unref"])(c).getters["devices/getDevice"](parseInt(o))},[Object(a["createElementVNode"])("div",v,Object(a["toDisplayString"])(e.device.name),1),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(t,(t,c)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:"evt-"+o+"-"+c,style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between"}},[Object(a["createElementVNode"])("div",m,[h,Object(a["createElementVNode"])("div",f,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(new Date(t.eventTime).toLocaleDateString()),1),k,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(new Date(t.eventTime).toLocaleTimeString()),1)])]),Object(a["createElementVNode"])("div",g,Object(a["toDisplayString"])(e.KT("notification.types."+t.type)),1)]))),128))],8,p))),128))])],64))}},B=(c("9942"),c("6b0d")),C=c.n(B);const w=C()(y,[["__scopeId","data-v-04ad4b0a"]]);t["default"]=w},e8b1:function(e,t,c){},efc7:function(e,t,c){"use strict";c("771d"),c("2b40")},f04b:function(e,t,c){"use strict";c.d(t,"a",(function(){return r})),c.d(t,"b",(function(){return l}));var a=c("bc34"),o=c("a3d3"),n=c("443c"),i=c("7d20");const l=Object(a["b"])({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:Object(a["d"])([String,Object]),default:""},inactiveIcon:{type:Object(a["d"])([String,Object]),default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:Object(a["d"])(Function)}}),r={[o["c"]]:e=>Object(n["g"])(e)||Object(i["isString"])(e)||Object(n["j"])(e),[o["a"]]:e=>Object(n["g"])(e)||Object(i["isString"])(e)||Object(n["j"])(e),[o["b"]]:e=>Object(n["g"])(e)||Object(i["isString"])(e)||Object(n["j"])(e)}}}]);