(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06678d92"],{1323:function(e,t,c){"use strict";c.r(t);c("14d9"),c("b7ef");var a=c("7a23"),o=(c("c4aa"),c("797a"),c("efc7"),c("e7ce"),c("74fa"),c("c349")),i=c("1254"),n=c("5c12"),l=c("cf2e"),r=c("c9a1"),s=c("1dc4"),d=c("6605"),b=c("5502");const u=e=>(Object(a["pushScopeId"])("data-v-4fa69df4"),e=e(),Object(a["popScopeId"])(),e),j={class:"login"},O={id:"logo"},m={id:"login-form"},v={key:0,style:{"text-align":"center"}},p=u(()=>Object(a["createElementVNode"])("br",null,null,-1)),h=u(()=>Object(a["createElementVNode"])("br",null,null,-1)),f={style:{"margin-left":"10%"}},w={class:"label"},k={class:"label"},g=u(()=>Object(a["createElementVNode"])("i",{class:"far fa-eye"},null,-1)),y=[g],V=u(()=>Object(a["createElementVNode"])("i",{class:"far fa-eye-slash"},null,-1)),C=[V],B={style:{"margin-top":"10px",float:"left"}},N={style:{"margin-top":"10px",float:"right"}},_={data(){return{username:"",password:"",showPassword:!1}},methods:{togglePasswordVisibility(){this.showPassword=!this.showPassword}}};var E=Object.assign(_,{__name:"login",setup(e){const t=Object(b["b"])(),{push:c}=Object(d["d"])(),u=Object(d["c"])(),g=Object(a["inject"])("traccar"),V=Object(a["ref"])(null),_=Object(a["ref"])(null),E=Object(a["ref"])(!1),x=Object(a["ref"])(u.query.user||""),S=Object(a["ref"])(u.query.pass||"");Object(a["onMounted"])(()=>{"Share"===u.name?I():V.value.focus()});const I=()=>{g.login(u.params.token,u.params.token).then(e=>{t.commit("setAuth",e),t.dispatch("loadUserData").then(()=>{c("/devices/"+e.attributes.deviceId),t.commit("devices/setTrail",parseInt(e.attributes.deviceId)),t.commit("devices/setFollow",parseInt(e.attributes.deviceId))})}).catch(e=>{r["a"].confirm(Object(s["a"])("INVALID_SHARE")||e).then(()=>{}).catch(()=>{})})},D=()=>{t.commit("server/setPage",!1);let e=x.value;u.meta.isDriver&&(e="qrcode-"+e),g.login(e,S.value).then(e=>{console.log(e);var a=/(iPhone|iPad|iPod);[^OS]*OS (\d)/,o=navigator.userAgent.match(a);E.value&&window.localStorage.setItem("rememberme",btoa(x.value+"|"+S.value)),u.query.to?window.location.href=window.location.protocol+"//"+window.location.host+u.query.to+"?time="+(new Date).getTime():o?u.meta.isDriver?window.location.href=window.location.protocol+"//"+window.location.host+"/qr-driver?time="+(new Date).getTime():window.location.href=window.location.protocol+"//"+window.location.host+"/home?time="+(new Date).getTime():(t.commit("setAuth",e),t.dispatch("loadUserData"),u.meta.isDriver?window.location.href=window.location.protocol+"//"+window.location.host+"/qr-driver?time="+(new Date).getTime():c("/home"))}).catch(e=>{t.commit("server/setPage",!1),console.log(e),r["a"].confirm(Object(s["a"])(e)||e).then(()=>{}).catch(()=>{})})};return(e,c)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",j,[Object(a["createElementVNode"])("div",O,[Object(a["createElementVNode"])("img",{style:Object(a["normalizeStyle"])({width:Object(a["unref"])(t).getters["server/getLogoWidth"]}),src:"/tarkan/assets/custom/logoWhite.png"},null,4)]),Object(a["createElementVNode"])("div",m,["Share"===e.$route.name?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",v,[Object(a["createTextVNode"])(" Acessando compartilhamento, por favor aguarde..."),p,h,Object(a["createElementVNode"])("div",f,[Object(a["createVNode"])(Object(a["unref"])(i["a"]),{percentage:50,status:"warning",indeterminate:!0})])])):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",w,Object(a["toDisplayString"])(Object(a["unref"])(s["a"])("login.username")),1),Object(a["createVNode"])(Object(a["unref"])(o["a"]),{ref_key:"userinput",ref:V,modelValue:x.value,"onUpdate:modelValue":c[0]||(c[0]=e=>x.value=e),onKeydown:c[1]||(c[1]=Object(a["withKeys"])(e=>_.value.focus(),["enter"])),placeholder:Object(a["unref"])(s["a"])("login.your_email")},null,8,["modelValue","placeholder"])]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",k,Object(a["toDisplayString"])(Object(a["unref"])(s["a"])("login.password")),1),Object(a["createVNode"])(Object(a["unref"])(o["a"]),{ref_key:"passinput",ref:_,modelValue:S.value,"onUpdate:modelValue":c[4]||(c[4]=e=>S.value=e),onKeydown:c[5]||(c[5]=Object(a["withKeys"])(e=>D(),["enter"])),type:e.showPassword?"text":"password",placeholder:Object(a["unref"])(s["a"])("login.your_password")},{append:Object(a["withCtx"])(()=>[e.showPassword?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:0,onClick:c[2]||(c[2]=(...t)=>e.togglePasswordVisibility&&e.togglePasswordVisibility(...t))},y)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:1,onClick:c[3]||(c[3]=(...t)=>e.togglePasswordVisibility&&e.togglePasswordVisibility(...t))},C))]),_:1},8,["modelValue","type","placeholder"])]),Object(a["createElementVNode"])("div",B,[Object(a["createVNode"])(Object(a["unref"])(n["a"]),{modelValue:E.value,"onUpdate:modelValue":c[6]||(c[6]=e=>E.value=e),"inactive-text":"","active-text":Object(a["unref"])(s["a"])("rememberme"),"active-value":!0,"inactive-value":!1},null,8,["modelValue","active-text"])]),Object(a["createElementVNode"])("div",N,[Object(a["createVNode"])(Object(a["unref"])(l["a"]),{type:"primary",onClick:c[7]||(c[7]=e=>D())},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(Object(a["unref"])(s["a"])("login.signin")),1)]),_:1})])],64))])]))}}),x=(c("271a"),c("6b0d")),S=c.n(x);const I=S()(E,[["__scopeId","data-v-4fa69df4"]]);t["default"]=I},"271a":function(e,t,c){"use strict";c("e3e8")},"2b40":function(e,t,c){},"5c12":function(e,t,c){"use strict";c.d(t,"a",(function(){return C}));var a=c("a3ae"),o=c("7a23"),i=c("7d20"),n=c("443c"),l=c("8afb"),r=c("54bb"),s=c("7bc7"),d=c("a3d3"),b=c("f04b"),u=c("546d"),j=c("c23a");const O="ElSwitch";var m=Object(o["defineComponent"])({name:O,components:{ElIcon:r["a"],Loading:s["Loading"]},props:b["b"],emits:b["a"],setup(e,{emit:t}){const{formItem:c}=Object(u["a"])(),a=Object(j["a"])(Object(o["computed"])(()=>e.loading)),r=Object(o["ref"])(!1!==e.modelValue),s=Object(o["ref"])(),b=Object(o["ref"])();Object(o["watch"])(()=>e.modelValue,()=>{r.value=!0}),Object(o["watch"])(()=>e.value,()=>{r.value=!1});const m=Object(o["computed"])(()=>r.value?e.modelValue:e.value),v=Object(o["computed"])(()=>m.value===e.activeValue);[e.activeValue,e.inactiveValue].includes(m.value)||(t(d["c"],e.inactiveValue),t(d["a"],e.inactiveValue),t(d["b"],e.inactiveValue)),Object(o["watch"])(v,()=>{var t;s.value.checked=v.value,(e.activeColor||e.inactiveColor)&&f(),e.validateEvent&&(null==(t=null==c?void 0:c.validate)||t.call(c,"change"))});const p=()=>{const c=v.value?e.inactiveValue:e.activeValue;t(d["c"],c),t(d["a"],c),t(d["b"],c),Object(o["nextTick"])(()=>{s.value.checked=v.value})},h=()=>{if(a.value)return;const{beforeChange:t}=e;if(!t)return void p();const c=t(),o=[Object(i["isPromise"])(c),Object(n["g"])(c)].some(e=>e);o||Object(l["b"])(O,"beforeChange must return type `Promise<boolean>` or `boolean`"),Object(i["isPromise"])(c)?c.then(e=>{e&&p()}).catch(e=>{Object(l["a"])(O,"some error occurred: "+e)}):c&&p()},f=()=>{const t=v.value?e.activeColor:e.inactiveColor,c=b.value;e.borderColor?c.style.borderColor=e.borderColor:e.borderColor||(c.style.borderColor=t),c.style.backgroundColor=t,c.children[0].style.color=t},w=()=>{var e,t;null==(t=null==(e=s.value)?void 0:e.focus)||t.call(e)};return Object(o["onMounted"])(()=>{(e.activeColor||e.inactiveColor||e.borderColor)&&f(),s.value.checked=v.value}),{input:s,core:b,switchDisabled:a,checked:v,handleChange:p,switchValue:h,focus:w}}});const v=["aria-checked","aria-disabled"],p=["id","name","true-value","false-value","disabled"],h=["aria-hidden"],f={key:0,class:"el-switch__inner"},w=["aria-hidden"],k=["aria-hidden"],g={class:"el-switch__action"},y=["aria-hidden"];function V(e,t,c,a,i,n){const l=Object(o["resolveComponent"])("el-icon"),r=Object(o["resolveComponent"])("loading");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(["el-switch",{"is-disabled":e.switchDisabled,"is-checked":e.checked}]),role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled,onClick:t[2]||(t[2]=Object(o["withModifiers"])((...t)=>e.switchValue&&e.switchValue(...t),["prevent"]))},[Object(o["createElementVNode"])("input",{id:e.id,ref:"input",class:"el-switch__input",type:"checkbox",name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled,onChange:t[0]||(t[0]=(...t)=>e.handleChange&&e.handleChange(...t)),onKeydown:t[1]||(t[1]=Object(o["withKeys"])((...t)=>e.switchValue&&e.switchValue(...t),["enter"]))},null,40,p),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?Object(o["createCommentVNode"])("v-if",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,class:Object(o["normalizeClass"])(["el-switch__label","el-switch__label--left",e.checked?"":"is-active"])},[e.inactiveIcon?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(e.inactiveIcon)))]),_:1})):Object(o["createCommentVNode"])("v-if",!0),!e.inactiveIcon&&e.inactiveText?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,"aria-hidden":e.checked},Object(o["toDisplayString"])(e.inactiveText),9,h)):Object(o["createCommentVNode"])("v-if",!0)],2)),Object(o["createElementVNode"])("span",{ref:"core",class:"el-switch__core",style:Object(o["normalizeStyle"])({width:(e.width||40)+"px"})},[e.inlinePrompt?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",f,[e.activeIcon||e.inactiveIcon?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[e.activeIcon?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,class:Object(o["normalizeClass"])(["is-icon",e.checked?"is-show":"is-hide"])},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(e.activeIcon)))]),_:1},8,["class"])):Object(o["createCommentVNode"])("v-if",!0),e.inactiveIcon?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:1,class:Object(o["normalizeClass"])(["is-icon",e.checked?"is-hide":"is-show"])},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(e.inactiveIcon)))]),_:1},8,["class"])):Object(o["createCommentVNode"])("v-if",!0)],64)):e.activeText||e.inactiveIcon?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[e.activeText?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,class:Object(o["normalizeClass"])(["is-text",e.checked?"is-show":"is-hide"]),"aria-hidden":!e.checked},Object(o["toDisplayString"])(e.activeText.substr(0,1)),11,w)):Object(o["createCommentVNode"])("v-if",!0),e.inactiveText?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,class:Object(o["normalizeClass"])(["is-text",e.checked?"is-hide":"is-show"]),"aria-hidden":e.checked},Object(o["toDisplayString"])(e.inactiveText.substr(0,1)),11,k)):Object(o["createCommentVNode"])("v-if",!0)],64)):Object(o["createCommentVNode"])("v-if",!0)])):Object(o["createCommentVNode"])("v-if",!0),Object(o["createElementVNode"])("div",g,[e.loading?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,class:"is-loading"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(r)]),_:1})):Object(o["createCommentVNode"])("v-if",!0)])],4),e.inlinePrompt||!e.activeIcon&&!e.activeText?Object(o["createCommentVNode"])("v-if",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,class:Object(o["normalizeClass"])(["el-switch__label","el-switch__label--right",e.checked?"is-active":""])},[e.activeIcon?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(e.activeIcon)))]),_:1})):Object(o["createCommentVNode"])("v-if",!0),!e.activeIcon&&e.activeText?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,"aria-hidden":!e.checked},Object(o["toDisplayString"])(e.activeText),9,y)):Object(o["createCommentVNode"])("v-if",!0)],2))],10,v)}m.render=V,m.__file="packages/components/switch/src/switch.vue";const C=Object(a["a"])(m)},"6b0d":function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const c=e.__vccOpts||e;for(const[a,o]of t)c[a]=o;return c}},e3e8:function(e,t,c){},efc7:function(e,t,c){"use strict";c("771d"),c("2b40")},f04b:function(e,t,c){"use strict";c.d(t,"a",(function(){return r})),c.d(t,"b",(function(){return l}));var a=c("bc34"),o=c("a3d3"),i=c("443c"),n=c("7d20");const l=Object(a["b"])({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:Object(a["d"])([String,Object]),default:""},inactiveIcon:{type:Object(a["d"])([String,Object]),default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:Object(a["d"])(Function)}}),r={[o["c"]]:e=>Object(i["g"])(e)||Object(n["isString"])(e)||Object(i["j"])(e),[o["a"]]:e=>Object(i["g"])(e)||Object(n["isString"])(e)||Object(i["j"])(e),[o["b"]]:e=>Object(i["g"])(e)||Object(n["isString"])(e)||Object(i["j"])(e)}}}]);