(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29b0cf8a"],{"2b40":function(e,t,c){},"5c12":function(e,t,c){"use strict";c.d(t,"a",(function(){return N}));var o=c("a3ae"),a=c("7a23"),r=c("7d20"),i=c("443c"),l=c("8afb"),n=c("54bb"),d=c("7bc7"),s=c("a3d3"),b=c("f04b"),p=c("546d"),j=c("c23a");const O="ElSwitch";var v=Object(a["defineComponent"])({name:O,components:{ElIcon:n["a"],Loading:d["Loading"]},props:b["b"],emits:b["a"],setup(e,{emit:t}){const{formItem:c}=Object(p["a"])(),o=Object(j["a"])(Object(a["computed"])(()=>e.loading)),n=Object(a["ref"])(!1!==e.modelValue),d=Object(a["ref"])(),b=Object(a["ref"])();Object(a["watch"])(()=>e.modelValue,()=>{n.value=!0}),Object(a["watch"])(()=>e.value,()=>{n.value=!1});const v=Object(a["computed"])(()=>n.value?e.modelValue:e.value),m=Object(a["computed"])(()=>v.value===e.activeValue);[e.activeValue,e.inactiveValue].includes(v.value)||(t(s["c"],e.inactiveValue),t(s["a"],e.inactiveValue),t(s["b"],e.inactiveValue)),Object(a["watch"])(m,()=>{var t;d.value.checked=m.value,(e.activeColor||e.inactiveColor)&&f(),e.validateEvent&&(null==(t=null==c?void 0:c.validate)||t.call(c,"change"))});const u=()=>{const c=m.value?e.inactiveValue:e.activeValue;t(s["c"],c),t(s["a"],c),t(s["b"],c),Object(a["nextTick"])(()=>{d.value.checked=m.value})},g=()=>{if(o.value)return;const{beforeChange:t}=e;if(!t)return void u();const c=t(),a=[Object(r["isPromise"])(c),Object(i["g"])(c)].some(e=>e);a||Object(l["b"])(O,"beforeChange must return type `Promise<boolean>` or `boolean`"),Object(r["isPromise"])(c)?c.then(e=>{e&&u()}).catch(e=>{Object(l["a"])(O,"some error occurred: "+e)}):c&&u()},f=()=>{const t=m.value?e.activeColor:e.inactiveColor,c=b.value;e.borderColor?c.style.borderColor=e.borderColor:e.borderColor||(c.style.borderColor=t),c.style.backgroundColor=t,c.children[0].style.color=t},x=()=>{var e,t;null==(t=null==(e=d.value)?void 0:e.focus)||t.call(e)};return Object(a["onMounted"])(()=>{(e.activeColor||e.inactiveColor||e.borderColor)&&f(),d.value.checked=m.value}),{input:d,core:b,switchDisabled:o,checked:m,handleChange:u,switchValue:g,focus:x}}});const m=["aria-checked","aria-disabled"],u=["id","name","true-value","false-value","disabled"],g=["aria-hidden"],f={key:0,class:"el-switch__inner"},x=["aria-hidden"],y=["aria-hidden"],h={class:"el-switch__action"},k=["aria-hidden"];function V(e,t,c,o,r,i){const l=Object(a["resolveComponent"])("el-icon"),n=Object(a["resolveComponent"])("loading");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])(["el-switch",{"is-disabled":e.switchDisabled,"is-checked":e.checked}]),role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled,onClick:t[2]||(t[2]=Object(a["withModifiers"])((...t)=>e.switchValue&&e.switchValue(...t),["prevent"]))},[Object(a["createElementVNode"])("input",{id:e.id,ref:"input",class:"el-switch__input",type:"checkbox",name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled,onChange:t[0]||(t[0]=(...t)=>e.handleChange&&e.handleChange(...t)),onKeydown:t[1]||(t[1]=Object(a["withKeys"])((...t)=>e.switchValue&&e.switchValue(...t),["enter"]))},null,40,u),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?Object(a["createCommentVNode"])("v-if",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:0,class:Object(a["normalizeClass"])(["el-switch__label","el-switch__label--left",e.checked?"":"is-active"])},[e.inactiveIcon?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:0},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(e.inactiveIcon)))]),_:1})):Object(a["createCommentVNode"])("v-if",!0),!e.inactiveIcon&&e.inactiveText?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:1,"aria-hidden":e.checked},Object(a["toDisplayString"])(e.inactiveText),9,g)):Object(a["createCommentVNode"])("v-if",!0)],2)),Object(a["createElementVNode"])("span",{ref:"core",class:"el-switch__core",style:Object(a["normalizeStyle"])({width:(e.width||40)+"px"})},[e.inlinePrompt?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",f,[e.activeIcon||e.inactiveIcon?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[e.activeIcon?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:0,class:Object(a["normalizeClass"])(["is-icon",e.checked?"is-show":"is-hide"])},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(e.activeIcon)))]),_:1},8,["class"])):Object(a["createCommentVNode"])("v-if",!0),e.inactiveIcon?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:1,class:Object(a["normalizeClass"])(["is-icon",e.checked?"is-hide":"is-show"])},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(e.inactiveIcon)))]),_:1},8,["class"])):Object(a["createCommentVNode"])("v-if",!0)],64)):e.activeText||e.inactiveIcon?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[e.activeText?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:0,class:Object(a["normalizeClass"])(["is-text",e.checked?"is-show":"is-hide"]),"aria-hidden":!e.checked},Object(a["toDisplayString"])(e.activeText.substr(0,1)),11,x)):Object(a["createCommentVNode"])("v-if",!0),e.inactiveText?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:1,class:Object(a["normalizeClass"])(["is-text",e.checked?"is-hide":"is-show"]),"aria-hidden":e.checked},Object(a["toDisplayString"])(e.inactiveText.substr(0,1)),11,y)):Object(a["createCommentVNode"])("v-if",!0)],64)):Object(a["createCommentVNode"])("v-if",!0)])):Object(a["createCommentVNode"])("v-if",!0),Object(a["createElementVNode"])("div",h,[e.loading?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:0,class:"is-loading"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(n)]),_:1})):Object(a["createCommentVNode"])("v-if",!0)])],4),e.inlinePrompt||!e.activeIcon&&!e.activeText?Object(a["createCommentVNode"])("v-if",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:1,class:Object(a["normalizeClass"])(["el-switch__label","el-switch__label--right",e.checked?"is-active":""])},[e.activeIcon?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:0},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(e.activeIcon)))]),_:1})):Object(a["createCommentVNode"])("v-if",!0),!e.activeIcon&&e.activeText?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:1,"aria-hidden":!e.checked},Object(a["toDisplayString"])(e.activeText),9,k)):Object(a["createCommentVNode"])("v-if",!0)],2))],10,m)}v.render=V,v.__file="packages/components/switch/src/switch.vue";const N=Object(o["a"])(v)},"6f4d":function(e,t,c){},"96ec":function(e,t,c){"use strict";c.r(t);c("14d9");var o=c("7a23"),a=(c("797a"),c("5959"),c("bc43"),c("7aa1"),c("c49e"),c("cc66"),c("10c7"),c("314f"),c("efc7"),c("5c12")),r=c("cf2e"),i=c("5502"),l=c("4d0b"),n=c("21a6");const d=e=>(Object(o["pushScopeId"])("data-v-4a0ffe24"),e=e(),Object(o["popScopeId"])(),e),s={style:{display:"flex","justify-content":"flex-end"}},b={style:{"margin-right":"10px","margin-top":"10px"}},p={style:{"margin-top":"20px"}},j={key:0,class:"reportBlock",style:{padding:"10px"}},O={key:1,class:"reportBlock",style:{padding:"10px"}},v=["set","onClick"],m={style:{color:"var(--el-text-color-primary)","font-weight":"bold","font-size":"16px",padding:"10px"}},u={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between","min-height":"53px"}},g={style:{"text-align":"right",padding:"10px","font-size":"11px",color:"#5b5b5b",position:"relative",width:"70px"}},f=d(()=>Object(o["createElementVNode"])("div",{style:{position:"absolute",width:"20px",height:"20px","font-size":"16px","text-align":"center",right:"-10px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},[Object(o["createElementVNode"])("i",{class:"fas fa-flag"})],-1)),x={style:{position:"absolute",right:"15px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},y=d(()=>Object(o["createElementVNode"])("br",null,null,-1)),h={style:{padding:"10px","font-size":"14px",flex:"1"}},k={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between"}},V={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},N={style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},w={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},B={style:{flex:"1","text-align":"center"}},E={style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},C={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},S={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between"}},D={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},T={style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},I={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},_={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},z={style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},$={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},A={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between"}},L={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},U={style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},F={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},P={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},M={style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},R={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},Y={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between"}},J={style:{"text-align":"right",padding:"10px","font-size":"11px",color:"#5b5b5b",position:"relative",width:"70px"}},K=d(()=>Object(o["createElementVNode"])("div",{style:{position:"absolute",width:"20px",height:"20px","font-size":"16px","text-align":"center",right:"-10px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},[Object(o["createElementVNode"])("i",{class:"fas fa-flag-checkered"})],-1)),G={style:{position:"absolute",right:"15px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},X=d(()=>Object(o["createElementVNode"])("br",null,null,-1)),q={style:{padding:"10px","font-size":"14px",flex:"1"}};var H={__name:"reportTravels",setup(e){const t=Object(o["inject"])("showRouteMarkers"),c=Object(o["ref"])(0),d=Object(i["b"])(),H=Object(o["inject"])("updateRoute"),Q=Object(o["ref"])({date:[0,0],deviceId:[],showMarkers:!0,groupId:[]}),W=Object(o["ref"])([]),Z=window.$traccar,ee=e=>{Q.value=e},te=(e=0)=>{d.dispatch("devices/setDeviceFilter",e)},ce=e=>{Z.loadRoute(e.deviceId,e.startTime,e.endTime).then(({data:t})=>{let o=[];t.forEach(e=>{o.push([e.latitude,e.longitude,e.id,e.course])}),te(e.deviceId),H(o),c.value=!1})},oe=(e=!1)=>{c.value=1,Z.getReportTravels(Q.value.deviceId,Q.value.groupId,new Date(Q.value.date[0]).toISOString(),new Date(Q.value.date[1]).toISOString(),e).then(t=>{e?(c.value=0,"application/pdf"===t["headers"]["content-type"]?Object(n["saveAs"])(new Blob([t.data],{type:"application/pdf"}),"resume.pdf"):Object(n["saveAs"])(new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),"travels.xlsx")):(c.value=2,W.value=t.data)})};return(e,i)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(Object(o["unref"])(l["a"]),{onChange:i[0]||(i[0]=e=>ee(e))}),Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",b,[Object(o["createVNode"])(Object(o["unref"])(a["a"]),{modelValue:Object(o["unref"])(t),"onUpdate:modelValue":i[1]||(i[1]=e=>Object(o["isRef"])(t)?t.value=e:null),"active-text":e.$t("report.showMarkers")},null,8,["modelValue","active-text"])]),Object(o["createVNode"])(Object(o["unref"])(r["a"]),{type:"info",onClick:i[2]||(i[2]=e=>oe(!0))},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("report.export")),1)]),_:1}),Object(o["createVNode"])(Object(o["unref"])(r["a"]),{type:"primary",onClick:i[3]||(i[3]=e=>oe())},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("report.load")),1)]),_:1})]),Object(o["createElementVNode"])("div",p,[1===c.value?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",j,Object(o["toDisplayString"])(e.$t("LOADING")),1)):Object(o["createCommentVNode"])("",!0),2===c.value&&0===W.value.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",O,Object(o["toDisplayString"])(e.$t("NO_DATA_TEXT")),1)):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(W.value,(t,c)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"reportBlock",key:c,set:e.device=Object(o["unref"])(d).getters["devices/getDevice"](t.deviceId),onClick:e=>ce(t)},[Object(o["createElementVNode"])("div",m,Object(o["toDisplayString"])(e.device.name),1),Object(o["createElementVNode"])("div",u,[Object(o["createElementVNode"])("div",g,[f,Object(o["createElementVNode"])("div",x,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(new Date(t.startTime).toLocaleDateString()),1),y,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(new Date(t.startTime).toLocaleTimeString()),1)])]),Object(o["createElementVNode"])("div",h,[t.startAddress?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.startAddress),1)],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.startLat)+", "+Object(o["toDisplayString"])(t.startLon),1)],64))])]),Object(o["createElementVNode"])("div",k,[Object(o["createElementVNode"])("div",V,[Object(o["createElementVNode"])("div",N,Object(o["toDisplayString"])(e.$t("device.startOdometer")),1),Object(o["createElementVNode"])("div",w,Object(o["toDisplayString"])(e.$t("units."+Object(o["unref"])(d).getters["server/getAttribute"]("distanceUnit","distanceUnit"),{distance:t.startOdometer})),1)]),Object(o["createElementVNode"])("div",B,[Object(o["createElementVNode"])("div",E,Object(o["toDisplayString"])(e.$t("device.endOdometer")),1),Object(o["createElementVNode"])("div",C,Object(o["toDisplayString"])(e.$t("units."+Object(o["unref"])(d).getters["server/getAttribute"]("distanceUnit","distanceUnit"),{distance:t.endOdometer})),1)])]),Object(o["createElementVNode"])("div",S,[Object(o["createElementVNode"])("div",D,[Object(o["createElementVNode"])("div",T,Object(o["toDisplayString"])(e.$t("device.averageSpeed")),1),Object(o["createElementVNode"])("div",I,Object(o["toDisplayString"])(e.$t("units."+Object(o["unref"])(d).getters["server/getAttribute"]("speedUnit","speedUnit"),{speed:t.averageSpeed})),1)]),Object(o["createElementVNode"])("div",_,[Object(o["createElementVNode"])("div",z,Object(o["toDisplayString"])(e.$t("device.maxSpeed")),1),Object(o["createElementVNode"])("div",$,Object(o["toDisplayString"])(e.$t("units."+Object(o["unref"])(d).getters["server/getAttribute"]("speedUnit","speedUnit"),{speed:t.maxSpeed})),1)])]),Object(o["createElementVNode"])("div",A,[Object(o["createElementVNode"])("div",L,[Object(o["createElementVNode"])("div",U,Object(o["toDisplayString"])(e.$t("device.duration")),1),Object(o["createElementVNode"])("div",F,Object(o["toDisplayString"])(Math.round(t.duration/60/60/1e3))+" hs",1)]),Object(o["createElementVNode"])("div",P,[Object(o["createElementVNode"])("div",M,Object(o["toDisplayString"])(e.$t("device.distance")),1),Object(o["createElementVNode"])("div",R,Object(o["toDisplayString"])(e.$t("units."+Object(o["unref"])(d).getters["server/getAttribute"]("distanceUnit","distanceUnit"),{distance:t.distance})),1)]),Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",Y,[Object(o["createElementVNode"])("div",J,[K,Object(o["createElementVNode"])("div",G,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(new Date(t.endTime).toLocaleDateString()),1),X,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(new Date(t.endTime).toLocaleTimeString()),1)])]),Object(o["createElementVNode"])("div",q,[t.endAddress?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.endAddress),1)],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.endLat)+", "+Object(o["toDisplayString"])(t.endLon),1)],64))])])],8,v))),128))])],64))}},Q=(c("c4dd"),c("6b0d")),W=c.n(Q);const Z=W()(H,[["__scopeId","data-v-4a0ffe24"]]);t["default"]=Z},c4dd:function(e,t,c){"use strict";c("6f4d")},efc7:function(e,t,c){"use strict";c("771d"),c("2b40")},f04b:function(e,t,c){"use strict";c.d(t,"a",(function(){return n})),c.d(t,"b",(function(){return l}));var o=c("bc34"),a=c("a3d3"),r=c("443c"),i=c("7d20");const l=Object(o["b"])({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:Object(o["d"])([String,Object]),default:""},inactiveIcon:{type:Object(o["d"])([String,Object]),default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:Object(o["d"])(Function)}}),n={[a["c"]]:e=>Object(r["g"])(e)||Object(i["isString"])(e)||Object(r["j"])(e),[a["a"]]:e=>Object(r["g"])(e)||Object(i["isString"])(e)||Object(r["j"])(e),[a["b"]]:e=>Object(r["g"])(e)||Object(i["isString"])(e)||Object(r["j"])(e)}}}]);