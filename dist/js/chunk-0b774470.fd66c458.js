(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b774470"],{4534:function(e,t,o){"use strict";o.r(t);var s=o("7a23"),a=o("6605"),n=o("5502");const c={id:"pano"};var i={__name:"street-view",setup(e){const t=Object(a["c"])(),o=Object(n["b"])(),i=Object(s["ref"])(null);Object(s["watch"])(()=>t.params.deviceId,()=>{t.params.deviceId?d():o.dispatch("devices/toggleStreet")});const d=()=>{const e=o.getters["devices/getPosition"](parseInt(t.params.deviceId));i.value.setPosition(new google.maps.LatLng(e.latitude,e.longitude)),i.value.setPov({heading:e.course,pitch:10})};window.$updatePano=e=>{e===parseInt(t.params.deviceId)&&d()};const p=()=>{if(t.params.deviceId){const e=o.getters["devices/getPosition"](parseInt(t.params.deviceId)),s={lat:e.latitude,lng:e.longitude};i.value=new google.maps.StreetViewPanorama(document.getElementById("pano"),{addressControl:!1,disableDefaultUI:!0,disableDoubleClickZoom:!0,position:s,pov:{heading:e.course,pitch:10}}),window.$pano=i.value}};return Object(s["onMounted"])(()=>{if(document.querySelector("#gmaps"))p();else{const e=o.getters["server/getAttribute"]("google_api");console.log(e);const t=document.createElement("script");t.id="gmaps",t.src=e?"https://maps.googleapis.com/maps/api/js?key="+e+"&v=weekly&channel=2":"https://maps.googleapis.com/maps/api/js?key=AIzaSyAK9rvhahXGmNQs9KQs-gbx4etmqSiAewo&v=weekly&channel=2",t.async=!0,t.onload=()=>{p()},document.body.appendChild(t)}}),(e,t)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",c,"VIEW"))}},d=(o("9fd7"),o("6b0d")),p=o.n(d);const r=p()(i,[["__scopeId","data-v-309ec2a2"]]);t["default"]=r},"6b0d":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const o=e.__vccOpts||e;for(const[s,a]of t)o[s]=a;return o}},"83ef":function(e,t,o){},"9fd7":function(e,t,o){"use strict";o("83ef")}}]);