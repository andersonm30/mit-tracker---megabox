(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c8d98182"],{"047a":function(e,t,a){"use strict";var l=a("7a23"),c=(a("c4aa"),a("797a"),a("efc7"),a("cc66"),a("10c7"),a("751f"),a("858d"),a("4180"),a("0a35"),a("0a69"),a("91c0")),r=a("c349"),u=a("cf2e");const n={style:{display:"flex"}},b={style:{flex:"1"}},o={style:{flex:"1","margin-left":"5px"}},d={style:{padding:"4px"}},i={style:{border:"silver 1px solid","border-radius":"5px","margin-top":"5px","margin-bottom":"15px",height:"calc(70vh - 200px)"}},O={style:{padding:"7px",flex:"1"}},j={style:{padding:"2px",flex:"1"}},v=["onChange","value"],s=["onClick"],f=Object(l["createElementVNode"])("i",{class:"fas fa-minus-square"},null,-1),m=[f];var V={__name:"tab-attributes",props:["modelValue","type"],emits:["update:modelValue"],setup(e,{emit:t}){const a=e,f={device:["lockOnExit","speedLimit"],user:["telegramChatId"],geofence:["color","lockOnExit","speedLimit"]},V=Object(l["ref"])({name:"",value:""}),p=Object(l["ref"])(f),x=Object(l["computed"])(()=>p.value[a.type]||[]),k=(e,l)=>{let c=a.modelValue;c[e]=l.srcElement.value,t("update:modelValue",c)},N=Object(l["computed"])(()=>{let e={},t=a.modelValue?Object.keys(a.modelValue):[];for(var l of t)l.match("tarkan.")||(e[l]=a.modelValue[l]);return e}),h=()=>{let e=a.modelValue;e[V.value.name]=V.value.value,t("update:modelValue",e),V.value={name:"",value:""}},g=e=>{delete a.modelValue[e],t("update:modelValue",a.modelValue)};return(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createElementVNode"])("div",n,[Object(l["createElementVNode"])("div",b,[Object(l["createVNode"])(Object(l["unref"])(c["c"]),{modelValue:V.value.name,"onUpdate:modelValue":t[0]||(t[0]=e=>V.value.name=e),"value-key":"id","allow-create":"",filterable:"",placeholder:e.KT("attribute.attribute"),size:"large","no-match-text":e.KT("NO_MATCH_TEXT"),"no-data-text":e.KT("NO_DATA_TEXT")},{default:Object(l["withCtx"])(()=>[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(Object(l["unref"])(x),t=>(Object(l["openBlock"])(),Object(l["createBlock"])(Object(l["unref"])(c["a"]),{key:t,label:e.$t("attribute."+t),value:t},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","no-match-text","no-data-text"])]),Object(l["createElementVNode"])("div",o,[Object(l["createVNode"])(Object(l["unref"])(r["a"]),{modelValue:V.value.value,"onUpdate:modelValue":t[1]||(t[1]=e=>V.value.value=e),placeholder:"Valor do Atributo"},null,8,["modelValue"])]),Object(l["createElementVNode"])("div",d,[Object(l["createVNode"])(Object(l["unref"])(u["a"]),{type:"primary",onClick:t[2]||(t[2]=e=>h()),size:"small"},{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])("Adicionar Atributo")]),_:1})])]),Object(l["createElementVNode"])("div",i,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(Object(l["unref"])(N),(t,a)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:a,style:{display:"flex","border-bottom":"silver 1px dotted"}},[Object(l["createElementVNode"])("div",O,Object(l["toDisplayString"])(e.$t("attribute."+a)),1),Object(l["createElementVNode"])("div",j,[Object(l["createElementVNode"])("input",{style:{width:"100%",border:"silver 1px solid",height:"23px","border-radius":"5px",padding:"2px"},onChange:e=>k(a,e),value:t},null,40,v)]),Object(l["createElementVNode"])("div",{style:{padding:"5px","padding-right":"10px","font-size":"18px"},onClick:e=>g(a)},m,8,s)]))),128))])],64))}};const p=V;t["a"]=p},"0a69":function(e,t,a){"use strict";a("771d"),a("acdd")},"2eda":function(e,t,a){},"6e03":function(e,t,a){"use strict";a("2eda")},acdd:function(e,t,a){},e294:function(e,t,a){"use strict";a.r(t);var l=a("7a23"),c=(a("c4aa"),a("797a"),a("efc7"),a("cc66"),a("10c7"),a("751f"),a("858d"),a("4180"),a("0a35"),a("0a69"),a("c9a1")),r=a("2295"),u=a("db9d"),n=a("cf2e"),b=a("e0ad"),o=a("d8e8"),d=a("91c0"),i=a("c349"),O=a("5c12"),j=a("5502"),v=a("047a"),s=a("1dc4"),f=a("9923");const m={style:{"border-bottom":"#e0e0e0 1px solid",padding:"20px"}},V={class:"modal-title"},p={style:{"border-top":"#e0e0e0 1px solid",padding:"20px",display:"flex","justify-content":"space-between"}};var x={__name:"edit-server",setup(e,{expose:t}){const a=Object(j["b"])(),x=Object(l["ref"])(""),k=Object(l["ref"])(!1),N=Object(l["ref"])("first"),h=Object(l["ref"])(-1),g=e=>{y.value.attributes["tarkan.deviceLimit"]=e},y=Object(l["ref"])(defaultServerData),C=e=>{f["a"].setLocale(e)},w=()=>{x.value=Object(s["a"])("server.server"),N.value="first",y.value=JSON.parse(JSON.stringify(defaultServerData));let e=a.state.server.serverInfo;console.log(e,y.value);for(let t of Object.keys(defaultServerData))"attributes"===t&&0===e[t].length?y.value["attributes"]={}:y.value[t]=e[t];y.value.attributes["tarkan.deviceLimit"]?h.value=0:(y.value.attributes["tarkan.deviceLimit"]=-1,h.value=-1),k.value=!0};t({showServer:w});const _=()=>{k.value=!1},E=()=>{c["a"].confirm("Ao executar esta ação, o sistema pode demorar alguns minutos para voltar ao ar.","Deseja realmente reiniciar o servidor?").then(()=>{window.$traccar.restartServer().then(()=>{k.value=!1,Object(r["a"])({title:"Info",message:"Servidor reiniciando...",type:"info"})})})},B=()=>{Object(r["a"])({title:Object(s["a"])("info"),message:Object(s["a"])("server.saving"),type:"info"}),y.value.attributes["tarkan.deviceLimit"]&&!1!==y.value.attributes["tarkan.deviceLimit"]&&(y.value.attributes["tarkan.deviceLimit"]=parseInt(y.value.attributes["tarkan.deviceLimit"])),a.dispatch("server/save",y.value).then(()=>{Object(r["a"])({title:Object(s["a"])("success"),message:Object(s["a"])("server.saved"),type:"info"}),k.value=!1})};return(e,t)=>(Object(l["openBlock"])(),Object(l["createBlock"])(Object(l["unref"])(u["a"]),{"lock-scroll":!0,modelValue:k.value,"onUpdate:modelValue":t[24]||(t[24]=e=>k.value=e)},{title:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("div",m,[Object(l["createElementVNode"])("div",V,Object(l["toDisplayString"])(x.value),1)])]),footer:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("div",p,[Object(l["createVNode"])(Object(l["unref"])(n["a"]),{type:"danger",plain:"",onClick:t[0]||(t[0]=e=>_())},{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])(Object(l["toDisplayString"])(Object(l["unref"])(s["a"])("cancel")),1)]),_:1}),Object(l["createVNode"])(Object(l["unref"])(n["a"]),{type:"warning",plain:"",onClick:t[1]||(t[1]=e=>E())},{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])(Object(l["toDisplayString"])(Object(l["unref"])(s["a"])("server.restart")),1)]),_:1}),Object(l["createVNode"])(Object(l["unref"])(n["a"]),{type:"primary",onClick:t[2]||(t[2]=e=>B())},{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])(Object(l["toDisplayString"])(Object(l["unref"])(s["a"])("save")),1)]),_:1})])]),default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(b["b"]),{modelValue:N.value,"onUpdate:modelValue":t[23]||(t[23]=e=>N.value=e)},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(b["a"]),{label:Object(l["unref"])(s["a"])("server.preferences"),name:"first"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(o["a"]),{"label-width":"120px","label-position":"top"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(o["b"]),{label:Object(l["unref"])(s["a"])("server.language")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(d["c"]),{modelValue:y.value.attributes["tarkan.lang"],"onUpdate:modelValue":t[3]||(t[3]=e=>y.value.attributes["tarkan.lang"]=e),onChange:C,filterable:"",size:"large",placeholder:Object(l["unref"])(s["a"])("server.language"),"no-match-text":Object(l["unref"])(s["a"])("NO_MATCH_TEXT"),"no-data-text":Object(l["unref"])(s["a"])("NO_DATA_TEXT")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(d["a"]),{label:"Português do Brasil",value:"pt-BR"}),Object(l["createVNode"])(Object(l["unref"])(d["a"]),{label:"Inglês",value:"en-US"}),Object(l["createVNode"])(Object(l["unref"])(d["a"]),{label:"Espanhol",value:"es-ES"})]),_:1},8,["modelValue","placeholder","no-match-text","no-data-text"])]),_:1},8,["label"]),Object(l["createVNode"])(Object(l["unref"])(o["b"]),{label:Object(l["unref"])(s["a"])("server.map")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(d["c"]),{modelValue:y.value.map,"onUpdate:modelValue":t[4]||(t[4]=e=>y.value.map=e),filterable:"",size:"large",placeholder:Object(l["unref"])(s["a"])("server.map"),"no-match-text":Object(l["unref"])(s["a"])("NO_MATCH_TEXT"),"no-data-text":Object(l["unref"])(s["a"])("NO_DATA_TEXT")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(d["a"]),{label:"OpenStreetMap",value:"openstreet"}),Object(l["createVNode"])(Object(l["unref"])(d["a"]),{label:"Google Maps Sat",value:"googleST"}),Object(l["createVNode"])(Object(l["unref"])(d["a"]),{label:"Google Maps Trafego",value:"googleTR"}),Object(l["createVNode"])(Object(l["unref"])(d["a"]),{label:"Google Maps",value:"googleSN"})]),_:1},8,["modelValue","placeholder","no-match-text","no-data-text"])]),_:1},8,["label"]),Object(l["createVNode"])(Object(l["unref"])(o["b"]),{label:Object(l["unref"])(s["a"])("server.latitude")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(i["a"]),{modelValue:y.value.latitude,"onUpdate:modelValue":t[5]||(t[5]=e=>y.value.latitude=e)},null,8,["modelValue"])]),_:1},8,["label"]),Object(l["createVNode"])(Object(l["unref"])(o["b"]),{label:Object(l["unref"])(s["a"])("server.longitude")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(i["a"]),{modelValue:y.value.longitude,"onUpdate:modelValue":t[6]||(t[6]=e=>y.value.longitude=e)},null,8,["modelValue"])]),_:1},8,["label"]),Object(l["createVNode"])(Object(l["unref"])(o["b"]),{label:Object(l["unref"])(s["a"])("server.zoom")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(i["a"]),{modelValue:y.value.zoom,"onUpdate:modelValue":t[7]||(t[7]=e=>y.value.zoom=e)},null,8,["modelValue"])]),_:1},8,["label"]),Object(l["createVNode"])(Object(l["unref"])(o["b"]),{label:Object(l["unref"])(s["a"])("server.coordinateFormat")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(i["a"]),{modelValue:y.value.coordinateFormat,"onUpdate:modelValue":t[8]||(t[8]=e=>y.value.coordinateFormat=e)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"]),Object(l["createVNode"])(Object(l["unref"])(b["a"]),{label:Object(l["unref"])(s["a"])("server.permissions"),name:"third"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(o["a"]),{"label-width":"120px","label-position":"top"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(o["b"]),{label:Object(l["unref"])(s["a"])("server.registration")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(O["a"]),{modelValue:y.value.registration,"onUpdate:modelValue":t[9]||(t[9]=e=>y.value.registration=e),"inactive-text":Object(l["unref"])(s["a"])("disabled"),"active-text":Object(l["unref"])(s["a"])("enabled"),"active-value":!0,"inactive-value":!1},null,8,["modelValue","inactive-text","active-text"])]),_:1},8,["label"]),Object(l["createVNode"])(Object(l["unref"])(o["b"]),{label:Object(l["unref"])(s["a"])("server.readOnly")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(O["a"]),{modelValue:y.value.readOnly,"onUpdate:modelValue":t[10]||(t[10]=e=>y.value.readOnly=e),"inactive-text":Object(l["unref"])(s["a"])("no"),"active-text":Object(l["unref"])(s["a"])("yes")},null,8,["modelValue","inactive-text","active-text"])]),_:1},8,["label"]),Object(l["createVNode"])(Object(l["unref"])(o["b"]),{label:Object(l["unref"])(s["a"])("server.deviceReadonly")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(O["a"]),{modelValue:y.value.deviceReadonly,"onUpdate:modelValue":t[11]||(t[11]=e=>y.value.deviceReadonly=e),"inactive-text":Object(l["unref"])(s["a"])("no"),"active-text":Object(l["unref"])(s["a"])("yes")},null,8,["modelValue","inactive-text","active-text"])]),_:1},8,["label"]),Object(l["createVNode"])(Object(l["unref"])(o["b"]),{label:Object(l["unref"])(s["a"])("server.limitCommands")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(O["a"]),{modelValue:y.value.limitCommands,"onUpdate:modelValue":t[12]||(t[12]=e=>y.value.limitCommands=e),"inactive-text":Object(l["unref"])(s["a"])("no"),"active-text":Object(l["unref"])(s["a"])("yes"),"active-value":!1,"inactive-value":!0},null,8,["modelValue","inactive-text","active-text"])]),_:1},8,["label"]),1===Object(l["unref"])(a).state.auth.id&&Object(l["unref"])(a).state.auth.administrator?(Object(l["openBlock"])(),Object(l["createBlock"])(Object(l["unref"])(o["b"]),{key:0,label:e.$t("server.deviceLimit")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(O["a"]),{modelValue:h.value,"onUpdate:modelValue":t[13]||(t[13]=e=>h.value=e),"inactive-text":e.$t("set"),"active-text":e.$t("unlimited"),"active-value":-1,"inactive-value":0,disabled:e.isSupAdmin,onChange:t[14]||(t[14]=e=>g(e))},null,8,["modelValue","inactive-text","active-text","disabled"]),-1!==parseInt(y.value.attributes["tarkan.deviceLimit"])?(Object(l["openBlock"])(),Object(l["createBlock"])(Object(l["unref"])(i["a"]),{key:0,modelValue:y.value.attributes["tarkan.deviceLimit"],"onUpdate:modelValue":t[15]||(t[15]=e=>y.value.attributes["tarkan.deviceLimit"]=e)},null,8,["modelValue"])):Object(l["createCommentVNode"])("",!0)]),_:1},8,["label"])):Object(l["createCommentVNode"])("",!0)]),_:1})]),_:1},8,["label"]),Object(l["createVNode"])(Object(l["unref"])(b["a"]),{label:Object(l["unref"])(s["a"])("server.tarkan"),name:"firsttk"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(o["b"]),{label:Object(l["unref"])(s["a"])("server.enableLockUnlock")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(O["a"]),{modelValue:y.value.attributes["tarkan.enableLockUnlock"],"onUpdate:modelValue":t[16]||(t[16]=e=>y.value.attributes["tarkan.enableLockUnlock"]=e),"inactive-text":Object(l["unref"])(s["a"])("automatic"),"active-text":Object(l["unref"])(s["a"])("always"),"active-value":!0,"inactive-value":!1},null,8,["modelValue","inactive-text","active-text"])]),_:1},8,["label"]),Object(l["unref"])(a).state.server.isPlus?(Object(l["openBlock"])(),Object(l["createBlock"])(Object(l["unref"])(o["b"]),{key:0,label:Object(l["unref"])(s["a"])("server.enableAdvancedPerms")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(O["a"]),{modelValue:y.value.attributes["tarkan.enableAdvancedPerms"],"onUpdate:modelValue":t[17]||(t[17]=e=>y.value.attributes["tarkan.enableAdvancedPerms"]=e),"inactive-text":Object(l["unref"])(s["a"])("disabled"),"active-text":Object(l["unref"])(s["a"])("enabled"),"active-value":!0,"inactive-value":!1},null,8,["modelValue","inactive-text","active-text"])]),_:1},8,["label"])):Object(l["createCommentVNode"])("",!0),Object(l["unref"])(a).state.server.isPlus?(Object(l["openBlock"])(),Object(l["createBlock"])(Object(l["unref"])(o["b"]),{key:1,label:Object(l["unref"])(s["a"])("server.enableQrDriverId")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(O["a"]),{modelValue:y.value.attributes["tarkan.enableQrDriverId"],"onUpdate:modelValue":t[18]||(t[18]=e=>y.value.attributes["tarkan.enableQrDriverId"]=e),"inactive-text":Object(l["unref"])(s["a"])("disabled"),"active-text":Object(l["unref"])(s["a"])("enabled"),"active-value":!0,"inactive-value":!1},null,8,["modelValue","inactive-text","active-text"])]),_:1},8,["label"])):Object(l["createCommentVNode"])("",!0),Object(l["unref"])(a).state.server.isPlus?(Object(l["openBlock"])(),Object(l["createBlock"])(Object(l["unref"])(o["b"]),{key:2,label:Object(l["unref"])(s["a"])("server.lazyDeletion")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(O["a"]),{modelValue:y.value.attributes["tarkan.enableLazyDeletion"],"onUpdate:modelValue":t[19]||(t[19]=e=>y.value.attributes["tarkan.enableLazyDeletion"]=e),"inactive-text":Object(l["unref"])(s["a"])("disabled"),"active-text":Object(l["unref"])(s["a"])("enabled"),"active-value":!0,"inactive-value":!1},null,8,["modelValue","inactive-text","active-text"])]),_:1},8,["label"])):Object(l["createCommentVNode"])("",!0),Object(l["unref"])(a).state.server.isPlus?(Object(l["openBlock"])(),Object(l["createBlock"])(Object(l["unref"])(o["b"]),{key:3,label:Object(l["unref"])(s["a"])("server.showStops")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(O["a"]),{modelValue:y.value.attributes["tarkan.enableStops"],"onUpdate:modelValue":t[20]||(t[20]=e=>y.value.attributes["tarkan.enableStops"]=e),"inactive-text":Object(l["unref"])(s["a"])("disabled"),"active-text":Object(l["unref"])(s["a"])("enabled"),"active-value":!0,"inactive-value":!1},null,8,["modelValue","inactive-text","active-text"])]),_:1},8,["label"])):Object(l["createCommentVNode"])("",!0),Object(l["unref"])(a).state.server.isPlus?(Object(l["openBlock"])(),Object(l["createBlock"])(Object(l["unref"])(o["b"]),{key:4,label:Object(l["unref"])(s["a"])("server.showEvents")},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(O["a"]),{modelValue:y.value.attributes["tarkan.enableEvents"],"onUpdate:modelValue":t[21]||(t[21]=e=>y.value.attributes["tarkan.enableEvents"]=e),"inactive-text":Object(l["unref"])(s["a"])("disabled"),"active-text":Object(l["unref"])(s["a"])("enabled"),"active-value":!0,"inactive-value":!1},null,8,["modelValue","inactive-text","active-text"])]),_:1},8,["label"])):Object(l["createCommentVNode"])("",!0)]),_:1},8,["label"]),Object(l["createVNode"])(Object(l["unref"])(b["a"]),{label:Object(l["unref"])(s["a"])("attribute.attributes"),name:"fourth"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(Object(l["unref"])(v["a"]),{modelValue:y.value.attributes,"onUpdate:modelValue":t[22]||(t[22]=e=>y.value.attributes=e),type:"server"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}};a("6e03");const k=x;t["default"]=k}}]);