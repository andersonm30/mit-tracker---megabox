(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bc72086"],{"314f":function(e,t,a){"use strict";a("771d"),a("d5d7"),a("c4aa"),a("9d28"),a("dbe6"),a("797a")},"37bc":function(e,t,a){},"85f3":function(e,t,a){"use strict";a("37bc")},b9ca:function(e,t,a){"use strict";a.r(t);var c=a("7a23"),l=a("5502"),r=(a("c4aa"),a("797a"),a("efc7"),a("cc66"),a("10c7"),a("751f"),a("858d"),a("4180"),a("0a35"),a("314f"),a("3ef4")),o=a("db9d"),i=a("cf2e"),n=a("e0ad"),d=a("d8e8"),u=a("c349"),s=a("91c0"),b=a("5c12"),m=a("0291"),v=a("1dc4");const O={style:{"border-bottom":"#e0e0e0 1px solid",padding:"20px"}},j={class:"modal-title"},f={style:{"border-top":"#e0e0e0 1px solid",padding:"20px",display:"flex","justify-content":"space-between"}};var p={__name:"edit-share",setup(e,{expose:t}){const a=Object(l["b"])(),p=Object(c["ref"])(""),h=Object(c["ref"])(!1),x=Object(c["ref"])("first"),V=[{text:"30 minutos",value:()=>{const e=new Date;return e.setTime(e.getTime()+18e5),e}},{text:"1 hora",value:()=>{const e=new Date;return e.setTime(e.getTime()+36e5),e}},{text:"2 horas",value:()=>{const e=new Date;return e.setTime(e.getTime()+72e5),e}},{text:"3 horas",value:()=>{const e=new Date;return e.setTime(e.getTime()+108e5),e}},{text:"1 dia",value:()=>{const e=new Date;return e.setTime(e.getTime()+864e5),e}},{text:"2 dias",value:()=>{const e=new Date;return e.setTime(e.getTime()+1728e5),e}}],w={id:0,name:"",deviceId:0,expirationTime:"",limitCommands:!0,attributes:{}},T=Object(c["ref"])(w),N=(e=0)=>{x.value="first",p.value="Criar compartilhamento",T.value=JSON.parse(JSON.stringify(w));const t=new Date;t.setTime(t.getTime()+18e5),T.value.deviceId=e,T.value.expirationTime=t.toISOString(),h.value=!0},g=e=>{if(0===e)return r["a"].error("Você precisa selecionar um compartilhamento para editar."),!1;p.value="Editar Compartilhamento",x.value="first",T.value=JSON.parse(JSON.stringify(w));let t=a.getters["shares/getShare"](e);for(let a of Object.keys(w))T.value[a]=t[a];h.value=!0};t({newShare:N,editShare:g});const C=()=>{h.value=!1},k=()=>{T.value.attributes||(T.value.attributes={}),T.value.limitCommands?delete T.value.attributes["tarkan.advancedPerms"]:T.value.attributes["tarkan.advancedPerms"]="00F00000000000000000000000000000",!T.value.deviceId||T.value.deviceId<1?r["a"].error("Você precisa selecionar um dispositivo."):T.value.expirationTime?a.dispatch("shares/save",T.value).then(e=>{const t=`${window.location.protocol}//${window.location.host}/share/${e.token}`;navigator.share?navigator.share({title:e.name,url:t}).then(()=>{h.value=!1,console.log("Thanks for sharing!")}).catch(console.error):(navigator.clipboard.writeText(t).then(()=>{r["a"].success("Link copiado para a área de transferência")}).catch(e=>{r["a"].error("Falha ao copiar o link: "+e)}),setTimeout(()=>{h.value=!1},2e3))}):r["a"].error("Você precisa selecionar uma data de expiração.")};return(e,t)=>(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["unref"])(o["a"]),{"lock-scroll":!0,width:"400px",modelValue:h.value,"onUpdate:modelValue":t[7]||(t[7]=e=>h.value=e)},{title:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",O,[Object(c["createElementVNode"])("div",j,Object(c["toDisplayString"])(p.value),1)])]),footer:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",f,[Object(c["createVNode"])(Object(c["unref"])(i["a"]),{type:"danger",plain:"",onClick:t[0]||(t[0]=e=>C())},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("Cancelar")]),_:1}),Object(c["createVNode"])(Object(c["unref"])(i["a"]),{type:"primary",onClick:t[1]||(t[1]=e=>k())},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("Salvar")]),_:1})])]),default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Object(c["unref"])(n["b"]),{modelValue:x.value,"onUpdate:modelValue":t[6]||(t[6]=e=>x.value=e)},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Object(c["unref"])(n["a"]),{label:"Dados da Conta",name:"first"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Object(c["unref"])(d["a"]),{"label-width":"120px","label-position":"top"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Object(c["unref"])(d["b"]),{label:"Nome"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Object(c["unref"])(u["a"]),{modelValue:T.value.name,"onUpdate:modelValue":t[2]||(t[2]=e=>T.value.name=e)},null,8,["modelValue"])]),_:1}),Object(c["createVNode"])(Object(c["unref"])(d["b"]),{label:"Dispositivo"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Object(c["unref"])(s["c"]),{modelValue:T.value.deviceId,"onUpdate:modelValue":t[3]||(t[3]=e=>T.value.deviceId=e),"value-key":"id",filterable:"",placeholder:Object(c["unref"])(v["a"])("device.device"),size:"large","no-match-text":Object(c["unref"])(v["a"])("NO_MATCH_TEXT"),"no-data-text":Object(c["unref"])(v["a"])("NO_DATA_TEXT")},{default:Object(c["withCtx"])(()=>[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(Object(c["unref"])(a).state.devices.deviceList,e=>(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["unref"])(s["a"]),{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","no-match-text","no-data-text"])]),_:1}),Object(c["unref"])(a).getters?(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["unref"])(d["b"]),{key:0,label:"Permitir Bloquear"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Object(c["unref"])(b["a"]),{modelValue:T.value.limitCommands,"onUpdate:modelValue":t[4]||(t[4]=e=>T.value.limitCommands=e),"inactive-text":"Não","active-text":"Sim","active-value":!1,"inactive-value":!0},null,8,["modelValue"])]),_:1})):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(Object(c["unref"])(d["b"]),{label:"Duração"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Object(c["unref"])(m["a"]),{size:"large",modelValue:T.value.expirationTime,"onUpdate:modelValue":t[5]||(t[5]=e=>T.value.expirationTime=e),type:"datetime",placeholder:"Select date and time",shortcuts:V,format:"DD/MM/YYYY HH:mm"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}};a("85f3");const h=p;t["default"]=h},d5d7:function(e,t,a){}}]);