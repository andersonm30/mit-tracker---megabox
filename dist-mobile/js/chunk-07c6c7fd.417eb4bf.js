(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07c6c7fd"],{a66f:function(e,t,n){"use strict";n("a780")},a780:function(e,t,n){},f07b:function(e,t,n){"use strict";n.r(t);n("d3b7"),n("159b"),n("b0c0");var o=n("7a23"),a=n("5502"),r=n("6c02"),c=function(e){return Object(o["pushScopeId"])("data-v-fc79800a"),e=e(),Object(o["popScopeId"])(),e},l={style:{display:"flex"}},i=c((function(){return Object(o["createElementVNode"])("div",{style:{width:"100px"}},null,-1)})),d=c((function(){return Object(o["createElementVNode"])("div",{style:{width:"5px"}},null,-1)})),u=c((function(){return Object(o["createElementVNode"])("i",{class:"fas fa-route"},null,-1)})),s={class:"device",style:{display:"flex","flex-direction":"column"}},b={key:0,style:{"text-align":"center",padding:"40px"}},p={key:1,style:{"text-align":"center",padding:"40px"}},m={key:0,style:{"border-bottom":"silver 1px dotted",display:"flex"}},v={style:{"text-align":"right",padding:"10px","font-size":"11px",color:"#5b5b5b",position:"relative",width:"70px"}},j=c((function(){return Object(o["createElementVNode"])("div",{style:{position:"absolute","border-right":"#cbcbcb 1px dashed",width:"1px",height:"55%",right:"3px",bottom:"0%",transform:"translate(-55%,0)"}},null,-1)})),O=c((function(){return Object(o["createElementVNode"])("div",{style:{position:"absolute",background:"#05a7e3",width:"10px",height:"10px",right:"0px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},null,-1)})),f={style:{position:"absolute",right:"15px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},g=c((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),x={style:{padding:"10px","font-size":"14px",flex:"1"}},h={style:{padding:"10px",width:"70px","text-align":"right","font-size":"12px","margin-right":"1px"}},y=c((function(){return Object(o["createElementVNode"])("i",{class:"fas fa-tachometer-alt"},null,-1)})),V={key:1,style:{flex:"1",overflow:"auto"}},N={key:0,style:{display:"flex","border-bottom":"silver 1px dotted"}},w={style:{"text-align":"right",padding:"10px","font-size":"11px",color:"#5b5b5b",position:"relative",width:"70px"}},k=c((function(){return Object(o["createElementVNode"])("div",{style:{position:"absolute","border-right":"#cbcbcb 1px dashed",width:"1px",height:"100%",right:"3px",bottom:"0%",transform:"translate(-55%,0)"}},null,-1)})),E=c((function(){return Object(o["createElementVNode"])("div",{style:{position:"absolute",background:"#05a7e3",width:"10px",height:"10px",right:"0px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},null,-1)})),D={style:{position:"absolute",right:"15px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},B=c((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),T={style:{padding:"10px","font-size":"12px",flex:"1"}},S={style:{padding:"10px","font-size":"12px",width:"70px","text-align":"right"}},C=c((function(){return Object(o["createElementVNode"])("i",{class:"fas fa-tachometer-alt"},null,-1)})),I={key:2,style:{"border-top":"silver 1px dotted",display:"flex"}},z={style:{"text-align":"right",padding:"10px","font-size":"11px",color:"#5b5b5b",position:"relative",width:"70px"}},M=c((function(){return Object(o["createElementVNode"])("div",{style:{position:"absolute","border-right":"#cbcbcb 1px dashed",width:"1px",height:"55%",right:"3px",top:"0%",transform:"translate(-55%,0)"}},null,-1)})),Y=c((function(){return Object(o["createElementVNode"])("div",{style:{position:"absolute",background:"#05a7e3",width:"10px",height:"10px",right:"0px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},null,-1)})),L={style:{position:"absolute",right:"15px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},H=c((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),_={style:{padding:"10px","font-size":"14px",flex:"1"}},F={style:{padding:"10px","font-size":"12px",width:"70px","text-align":"right","margin-right":"1px"}},q=c((function(){return Object(o["createElementVNode"])("i",{class:"fas fa-tachometer-alt"},null,-1)})),R={setup:function(e){var t=Object(o["ref"])(!1),n=new Date,c=new Date;n.setHours(0),n.setMinutes(0);var R=Object(o["ref"])({deviceId:"",date:[n,c]}),U=Object(a["b"])(),J=Object(r["c"])();Object(o["onMounted"])((function(){J.query.deviceId&&(R.value.deviceId=parseInt(J.query.deviceId),K())})),Object(o["onBeforeUnmount"])((function(){A([])})),Object(o["watch"])((function(){return J.query.deviceId}),(function(){J.query.deviceId&&(R.value.deviceId=parseInt(J.query.deviceId),K())}));var A=Object(o["inject"])("updateRoute"),$=Object(o["ref"])([{text:"Hoje",value:function(){var e=new Date,t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),[t,e]}},{text:"Ontem",value:function(){var e=new Date,t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setDate(t.getDate()-1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),[t,e]}},{text:"Esta semana",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t,e]}},{text:"Este mês",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}},{text:"3 meses",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[t,e]}}]),G=Object(o["ref"])([]),K=function(){var e=window.$traccar;t.value=!0,e.loadRoute(R.value.deviceId,R.value.date[0],R.value.date[1]).then((function(e){var n=e.data;G.value=n;var o=[];n.forEach((function(e){o.push([e.latitude,e.longitude,e.id,e.course])})),A(o),t.value=!1}))};return function(e,n){var a=Object(o["resolveComponent"])("el-option"),r=Object(o["resolveComponent"])("el-select"),c=Object(o["resolveComponent"])("el-form-item"),J=Object(o["resolveComponent"])("el-date-picker"),A=Object(o["resolveComponent"])("el-button"),P=Object(o["resolveComponent"])("el-tooltip"),Q=Object(o["resolveComponent"])("el-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(Q,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(r,{modelValue:R.value.deviceId,"onUpdate:modelValue":n[0]||(n[0]=function(e){return R.value.deviceId=e}),"value-key":"id",filterable:"",placeholder:"Veiculo",size:"large","no-data-text":"Nenhum dispositivo encontrado"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Object(o["unref"])(U).state.devices.deviceList,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(o["createElementVNode"])("div",l,[i,Object(o["createVNode"])(J,{modelValue:R.value.date,"onUpdate:modelValue":n[1]||(n[1]=function(e){return R.value.date=e}),type:"datetimerange",shortcuts:$.value,"range-separator":"Até",format:"DD/MM/YYYY HH:mm","start-placeholder":"Data Inicial","end-placeholder":"Data Final"},null,8,["modelValue","shortcuts"]),d,Object(o["createVNode"])(P,{effect:"dark",content:"Carregar Rotas",placement:"bottom"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(A,{type:"primary",onClick:n[2]||(n[2]=function(e){return K()})},{default:Object(o["withCtx"])((function(){return[u]})),_:1})]})),_:1})])]})),_:1}),Object(o["createElementVNode"])("div",s,[t.value?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",b,"Carregando rota...")):0===G.value.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",p,"Não há posicionamento para o periôdo selecionado.")):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:2},[G.value.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",m,[Object(o["createElementVNode"])("div",v,[j,O,Object(o["createElementVNode"])("div",f,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(new Date(G.value[0].serverTime).toLocaleDateString()),1),g,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(new Date(G.value[0].serverTime).toLocaleTimeString()),1)])]),Object(o["createElementVNode"])("div",x,Object(o["toDisplayString"])(G.value[0].address),1),Object(o["createElementVNode"])("div",h,[y,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(Math.round(G.value[0].speed))+" km/h ",1)])])):Object(o["createCommentVNode"])("",!0),G.value.length>2?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",V,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(G.value,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:e.id},[t>0&&t<G.value.length-1?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",N,[Object(o["createElementVNode"])("div",w,[k,E,Object(o["createElementVNode"])("div",D,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(new Date(e.serverTime).toLocaleDateString()),1),B,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(new Date(e.serverTime).toLocaleTimeString()),1)])]),Object(o["createElementVNode"])("div",T,Object(o["toDisplayString"])(e.address||"Endereço não encontrado"),1),Object(o["createElementVNode"])("div",S,[C,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(Math.round(e.speed))+" km/h ",1)])])):Object(o["createCommentVNode"])("",!0)],64)})),128))])):Object(o["createCommentVNode"])("",!0),G.value.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",I,[Object(o["createElementVNode"])("div",z,[M,Y,Object(o["createElementVNode"])("div",L,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(new Date(G.value[G.value.length-1].serverTime).toLocaleDateString()),1),H,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(new Date(G.value[G.value.length-1].serverTime).toLocaleTimeString()),1)])]),Object(o["createElementVNode"])("div",_,Object(o["toDisplayString"])(G.value[G.value.length-1].address),1),Object(o["createElementVNode"])("div",F,[q,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(Math.round(G.value[G.value.length-1].speed))+" km/h ",1)])])):Object(o["createCommentVNode"])("",!0)],64))])],64)}}},U=(n("a66f"),n("6b0d")),J=n.n(U);const A=J()(R,[["__scopeId","data-v-fc79800a"]]);t["default"]=A}}]);
//# sourceMappingURL=chunk-07c6c7fd.417eb4bf.js.map