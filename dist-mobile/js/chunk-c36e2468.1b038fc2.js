(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c36e2468"],{"3b81":function(e,t,n){},"6e62":function(e,t,n){"use strict";n("b354")},b354:function(e,t,n){},d159:function(e,t,n){"use strict";n("3b81")},fb40:function(e,t,n){"use strict";n.r(t);n("4de4"),n("d3b7"),n("ac1f"),n("466d"),n("a4d3"),n("e01a");var c=n("7a23"),a=n("5502"),o=n("b85c"),l=n("1da1"),r=(n("96cf"),n("e9c4"),n("b0c0"),n("16ee")),u=n("c9a1"),i=n("2295"),d=n("9a50"),b=n("db9d"),s=n("d8e8"),f=n("c349"),p=Object(c["createElementVNode"])("div",{style:{"border-bottom":"#e0e0e0 1px solid",padding:"20px"}},[Object(c["createElementVNode"])("div",{class:"modal-title"},"Cadastrar Comando")],-1),m={style:{"border-top":"#e0e0e0 1px solid",padding:"20px",display:"flex","justify-content":"space-between"}},O=Object(c["createTextVNode"])("Excluir"),j=Object(c["createTextVNode"])("Cancelar"),v=Object(c["createTextVNode"])("Salvar"),V=Object(c["createElementVNode"])("br",null,null,-1),C={setup:function(e,t){var n=t.expose,C={id:0,deviceId:0,description:"",type:"",attributes:{}},h=Object(d["b"])(),x=function(e){return h.t(e)||e},y=Object(a["b"])(),N=Object(c["ref"])(null),k=Object(c["ref"])(!1),w=Object(c["ref"])("first"),g=Object(c["ref"])(!1),E=Object(c["ref"])([]),B=Object(c["ref"])([{type:"engineStop"},{type:"engineResume"}]);Object(c["onMounted"])((function(){window.$traccar.getTypeCommands().then((function(e){var t=e.data;E.value=t}))}));var _=Object(c["ref"])(C),S=function(){_.value=JSON.parse(JSON.stringify(C)),k.value=!0},J=function(e){_.value=JSON.parse(JSON.stringify(C)),Object.assign(_.value,JSON.parse(JSON.stringify(e))),k.value=!0};n({newCommand:S,editCommand:J});var T=function(){k.value=!1},I=function(){u["a"].confirm("Deseja realmente excluir este comando?","Tem certeza?").then((function(){y.dispatch("commands/delete",_.value.id).then((function(){k.value=!1,Object(i["a"])({title:"Info",message:"Comando deletado com suceso.",type:"info"})}))}))},L=function(){Object(i["a"])({title:"Info",message:"Cadastrando seu comando...",type:"info"});var e=JSON.parse(JSON.stringify(C));Object.assign(e,_.value),y.dispatch("commands/save",e).then(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,c,a,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=N.value.selected,!(n.length>0)){e.next=21;break}c=Object(o["a"])(n),e.prev=3,c.s();case 5:if((a=c.n()).done){e.next=13;break}return l=a.value,console.log(l),Object(i["a"])({title:"Info",message:"Vinculando comando ao dispositivo "+l.name,type:"info"}),e.next=11,window.$traccar.linkObjects({deviceId:l.id,commandId:t.id});case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](3),c.e(e.t0);case 18:return e.prev=18,c.f(),e.finish(18);case 21:Object(i["a"])({title:"Successo",message:"Comando personalizado cadastrado com sucesso.",type:"success"}),k.value=!1;case 23:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})));return function(t){return e.apply(this,arguments)}}())};return function(e,t){var n=Object(c["resolveComponent"])("el-button"),a=Object(c["resolveComponent"])("el-option"),o=Object(c["resolveComponent"])("el-select"),l=Object(c["resolveComponent"])("el-switch"),u=Object(c["resolveComponent"])("el-tab-pane"),i=Object(c["resolveComponent"])("el-tabs");return Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["unref"])(b["a"]),{"lock-scroll":!0,modelValue:k.value,"onUpdate:modelValue":t[9]||(t[9]=function(e){return k.value=e}),title:"Teste"},{title:Object(c["withCtx"])((function(){return[p]})),footer:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(n,{type:"danger",onClick:t[0]||(t[0]=function(e){return I()})},{default:Object(c["withCtx"])((function(){return[O]})),_:1})]),Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(n,{type:"danger",plain:"",onClick:t[1]||(t[1]=function(e){return T()})},{default:Object(c["withCtx"])((function(){return[j]})),_:1}),Object(c["createVNode"])(n,{type:"primary",onClick:t[2]||(t[2]=function(e){return L()})},{default:Object(c["withCtx"])((function(){return[v]})),_:1})])])]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{modelValue:w.value,"onUpdate:modelValue":t[8]||(t[8]=function(e){return w.value=e})},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,{label:"Comando",name:"first"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(Object(c["unref"])(s["a"]),{"label-width":"120px","label-position":"top"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(Object(c["unref"])(s["b"]),{label:"Nome do Comando"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(Object(c["unref"])(f["a"]),{modelValue:_.value.description,"onUpdate:modelValue":t[3]||(t[3]=function(e){return _.value.description=e})},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(Object(c["unref"])(s["b"]),{label:"Tipo de Comando"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(o,{modelValue:_.value.type,"onUpdate:modelValue":t[4]||(t[4]=function(e){return _.value.type=e}),"value-key":"id",filterable:"",placeholder:"Tipo de Comando",size:"large","no-data-text":"Nenhum tipo disponível"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(E.value,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(a,{key:e.type,label:x("actions."+e.type),value:e.type},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),"custom"===_.value.type?(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["unref"])(s["b"]),{key:0,label:"Enviar"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(Object(c["unref"])(f["a"]),{modelValue:_.value.attributes["data"],"onUpdate:modelValue":t[5]||(t[5]=function(e){return _.value.attributes["data"]=e})},null,8,["modelValue"])]})),_:1})):Object(c["createCommentVNode"])("",!0),V,Object(c["createVNode"])(l,{modelValue:g.value,"onUpdate:modelValue":t[6]||(t[6]=function(e){return g.value=e}),"active-text":"Substituir um comando nativo por este comando."},null,8,["modelValue"]),g.value?(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["unref"])(s["b"]),{key:1,label:"Qual ação você deseja substituir?"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(o,{modelValue:_.value.attributes["tarkan.changeNative"],"onUpdate:modelValue":t[7]||(t[7]=function(e){return _.value.attributes["tarkan.changeNative"]=e}),"value-key":"id",filterable:"",placeholder:"Grupo",size:"large","no-data-text":"Nenhum tipo disponível"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(B.value,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(a,{key:e.type,label:x("actions."+e.type),value:e.type},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})):Object(c["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(c["createVNode"])(u,{label:"Dispositivos",name:e.devices},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(Object(c["unref"])(r["a"]),{ref_key:"deviceList",ref:N},null,512)]})),_:1},8,["name"])]})),_:1},8,["modelValue"])]})),_:1},8,["modelValue"])}}};n("6e62");const h=C;var x=h,y=function(e){return Object(c["pushScopeId"])("data-v-3daa2fc6"),e=e(),Object(c["popScopeId"])(),e},N={style:{display:"flex","justify-content":"space-between","align-content":"space-between"}},k=y((function(){return Object(c["createElementVNode"])("div",{style:{width:"30%"}},null,-1)})),w=y((function(){return Object(c["createElementVNode"])("i",{class:"fas fa-plus"},null,-1)})),g={style:{border:"silver 1px solid","border-radius":"5px","margin-top":"20px",height:"calc(100vh - 200px)"}},E=y((function(){return Object(c["createElementVNode"])("div",{class:"device"},[Object(c["createElementVNode"])("div",{class:"name",style:{"font-size":"12px","font-weight":"100",padding:"5px",width:"calc(60% + 3.5px)"}},"Titulo"),Object(c["createElementVNode"])("div",{class:"name",style:{"font-size":"12px","font-weight":"100",padding:"5px",flex:"2"}},"Tipo")],-1)})),B={style:{"overflow-x":"hidden","overflow-y":"scroll",height:"calc(100vh - 230px)"}},_=["onClick"],S={class:"name"},J={class:"name",style:{flex:"2"}},T={setup:function(e){var t=Object(a["b"])(),n=Object(c["ref"])(""),o=Object(c["ref"])(null),l=Object(c["computed"])((function(){return""===n.value?t.state.commands.commandList:t.state.commands.commandList.filter((function(e){return e.description.toLowerCase().match(n.value.toLowerCase())}))}));return function(e,t){var a=Object(c["resolveComponent"])("el-input"),r=Object(c["resolveComponent"])("el-button"),u=Object(c["resolveComponent"])("el-tooltip");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(Object(c["unref"])(x),{ref_key:"editCommandRef",ref:o},null,512),Object(c["createElementVNode"])("div",N,[k,Object(c["createVNode"])(a,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.value=e}),placeholder:"Buscar Comando",style:{"--el-input-border-radius":"5px","margin-right":"5px"}},null,8,["modelValue"]),Object(c["createVNode"])(u,{effect:"dark",content:"Cadastrar Comando",placement:"bottom"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(r,{type:"primary",onClick:t[1]||(t[1]=function(e){return o.value.newCommand()})},{default:Object(c["withCtx"])((function(){return[w]})),_:1})]})),_:1})]),Object(c["createElementVNode"])("div",g,[E,Object(c["createElementVNode"])("div",B,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(Object(c["unref"])(l),(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:e.id,onClick:function(t){return o.value.editCommand(e)},class:"device"},[Object(c["createElementVNode"])("div",S,Object(c["toDisplayString"])(e.description),1),Object(c["createElementVNode"])("div",J,Object(c["toDisplayString"])(e.type),1)],8,_)})),128))])])],64)}}},I=(n("d159"),n("6b0d")),L=n.n(I);const U=L()(T,[["__scopeId","data-v-3daa2fc6"]]);t["default"]=U}}]);
//# sourceMappingURL=chunk-c36e2468.1b038fc2.js.map