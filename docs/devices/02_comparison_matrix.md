# Matriz de Comparação
Formato: Melhor = escolha técnica/UX superior. Ação = manter/adaptar/copiar/descartar.

| Categoria | devices.vue (prod) | devices-2.vue | devices-dark.vue | Melhor (por quê) | Risco | Ação |
|---|---|---|---|---|---|---|
| UX/UI – layout/densidade | Lista simples com header e barra plana; sem badges | Barra com prefix de filtros, cards dinâmicos, densidades configuráveis, badges de filtro, agrupamento colapsável | Header cheio de botões, contadores, tema escuro, badges agressivos | devices-2 (melhor densidade e controles sem poluição visual) | Médio (mais UI = mais regressão) | Adaptar (trazer layout/badges condensados) |
| UX/UI – feedback | Tooltips globais básicos | Tooltips + badges de filtros + contadores | Tooltips, contadores, animações e efeitos | devices-2 (feedback claro sem excesso) | Baixo | Adaptar |
| UX/UI – responsividade | Flex básico, sem ajustes mobile | CSS com breakpoints, botões arredondados, cards dinâmicos | Muitos estilos globais, pode afetar outras telas | devices-2 (responsivo controlado) | Médio | Copiar seletivamente |
| Performance – lista | Virtual scroll simples (offset/max) e manipulação de ícones | Virtual scroll + resize observer + slice visível + sync mapa | Lista sem janela virtual (render potencialmente grande) e manipulação DOM direta | devices-2 (virtualização mais robusta) | Médio | Adaptar (virtual window + slice) |
| Performance – filtros | Filtro texto + regex tempo; sem throttle fixo | Match estruturado (tempo, estado, situacao, adv), localStorage; ícones sincronizados | recalcDevices enorme, touches no DOM e clustering, debounce | devices-2 (mais estruturado e menos side-effects) | Alto se copiar dark | Copiar lógica de filtros estruturados, evitar DOM direto |
| Arquitetura | Script setup limpo, poucas dependências | Script setup modular com helpers; separação de funções de export/filtros | Script gigante com efeitos colaterais e mutações diretas no store/DOM | devices-2 (melhor organização) | Médio | Adaptar organização e helpers |
| Estados/Resiliência | Sem estados de loading/erro, mas estados de ícones claros | Badges, estados de filtro, modal de erro em exports; `ElMessage` | Muitos `try/catch`, mas manipulação de DOM e mutação direta podem quebrar | devices-2 (feedback sem quebrar reatividade) | Médio | Adaptar feedback mínimo e estados vazios |
| Funcionalidades – filtros | Situação + busca + grupo + sort | Painel avançado: estado, situação, conectividade, âncora/driver/ignition/locked, GPS brand/model/tech, estilos, offlines | Similar + combinados + GPS massivo + botão que limpa ao fechar painel | devices-2 (abrangente e estável) | Médio | Copiar painel avançado simplificado |
| Funcionalidades – export | Nenhuma | Relatórios avançados (PDF/XLSX/JSON) com templates e contagem on-screen | Relatórios simples via modal | devices-2 (mais completo) | Médio | Adaptar export mínimo (PDF/XLSX visíveis) |
| Mapa/Geolocalização | addToMap/remove em filtros e scroll; usa posições no store | Mantém ícones visíveis para slice, remove ao sair da janela | Integração com clustering e classes CSS; inicializa Leaflet local | devices-2 (sincronização controlada sem clustering manual) | Alto se tocar no mapa | Manter base + adaptar sync de slice |
| Observabilidade | Sem logs | Poucos logs; console em generateReport | Muitos logs de debug, timers | devices.vue (menos ruído) | Baixo | Manter, adicionar métricas leves se necessário |
| Segurança | Botão add condicionado a permissões/limite; filtros sem validação extra | Idem + reports só para admin | Import/exports sem sanitização, muta store direto | devices.vue (mais enxuto) | Alto ao copiar import | Manter baseline, adicionar validação ao expandir |
